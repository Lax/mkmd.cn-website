<!DOCTYPE html>   
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="zh-CN" prefix="og: http://ogp.me/ns#" class="no-js"> <!--<![endif]-->


<!-- BEGIN head -->
<head>

	<!-- Title -->
	
	
	<!-- Meta Tags -->
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<!-- Favicon & Mobileicon -->
	<link rel="shortcut icon" href="http://jbcdn2.b0.upaiyun.com/2013/12/favicon.png" />
	<link rel="apple-touch-icon" href="http://jbcdn2.b0.upaiyun.com/2013/12/jobbole-blog-logo-mobile.png" />
	
	<!-- RSS, Atom & Pingbacks -->
		<link rel="alternate" title="文章 &#8211; 伯乐在线 RSS Feed" href="http://blog.jobbole.com/feed/" />
		<link rel="alternate" title="RSS .92" href="http://blog.jobbole.com/feed/rss/" />
	<link rel="alternate" title="Atom 0.3" href="http://blog.jobbole.com/feed/atom/" />
	<link rel="pingback" href="http://blog.jobbole.com/xmlrpc.php" />
	
	<!-- Theme Hook -->
	
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.13 - http://yoast.com/wordpress/seo/ -->
<title>一个脚本引发的血案 - 文章 - 伯乐在线</title>
<meta name="description" content="我们本身是一家互联网金融公司，公司的主流业务就是p2p，因为各种原因吧，15年底启动建设众筹平台。考虑到前期开发过程中的一些弊端和架构经验，本次架构引用了dubbo做soa服务的治理，web容器nginx+tomcat，后端语言采用java,框架选择spring+mybaits,前端模板引擎使用的是btl……"/>
<link rel="canonical" href="http://blog.jobbole.com/110225/" />
<meta property='og:locale' content='zh_CN'/>
<meta property='og:type' content='article'/>
<meta property='og:title' content='一个脚本引发的血案 - 文章 - 伯乐在线'/>
<meta property='og:description' content='我们本身是一家互联网金融公司，公司的主流业务就是p2p，因为各种原因吧，15年底启动建设众筹平台。考虑到前期开发过程中的一些弊端和架构经验，本次架构引用了dubbo做soa服务的治理，web容器nginx+tomcat，后端语言采用java,框架选择spring+mybaits,前端模板引擎使用的是btl……'/>
<meta property='og:url' content='http://blog.jobbole.com/110225/'/>
<meta property='og:site_name' content='文章 - 伯乐在线'/>
<meta property='og:image' content='http://www.ityouknow.com/assets/images/2017/optimize/zhongchou.jpg'/>
<meta property='og:image' content='http://www.ityouknow.com/assets/images/2017/optimize/druid.jpg'/>
<!-- / Yoast WordPress SEO plugin. -->

<link rel='stylesheet' id='dashicons-css'  href='http://blog.jobbole.com/wp-includes/css/dashicons.min.css?ver=4.5.6' type='text/css' media='all' />
<link rel='stylesheet' id='thickbox-css'  href='http://blog.jobbole.com/wp-includes/js/thickbox/thickbox.css?ver=4.5.6' type='text/css' media='all' />
<link rel='stylesheet' id='fancybox-css-css'  href='http://blog.jobbole.com/wp-content/plugins/jobbole-wp-plugin/css/jquery.fancybox.css?ver=2.1.5' type='text/css' media='all' />
<link rel='stylesheet' id='jobbole-wp-css-css'  href='http://blog.jobbole.com/wp-content/plugins/jobbole-wp-plugin/css/jobbole-wp-plugin.css?ver=1.0.30' type='text/css' media='all' />
<link rel='stylesheet' id='crayon_colorbox_css-css'  href='http://blog.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/util/tag-editor/colorbox/colorbox.css?ver=2.7.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon_style-css'  href='http://blog.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/css/src/crayon_style.css?ver=2.7.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon_global_style-css'  href='http://blog.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/css/src/global_style.css?ver=2.7.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-github-css'  href='http://blog.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=2.7.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://blog.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=2.7.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='v48fv_images-css'  href='http://blog.jobbole.com/wp-content/plugins/mu-widgets/library/base/public/css/images.css?ver=1.2.v48fv' type='text/css' media='all' />
<link rel='stylesheet' id='v48fv_front-css'  href='http://blog.jobbole.com/wp-content/plugins/mu-widgets/library/base/public/css/front.css?ver=1.2.v48fv' type='text/css' media='all' />
<link rel='stylesheet' id='v48fv_common-css'  href='http://blog.jobbole.com/wp-content/plugins/mu-widgets/library/base/public/css/common.css?ver=1.2.v48fv' type='text/css' media='all' />
<script type='text/javascript' src='http://blog.jobbole.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/plugins/jobbole-wp-plugin/js/jquery.fancybox.pack.js?ver=2.1.5'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/plugins/jobbole-wp-plugin/js/superfish.js?ver=1.4.8'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/plugins/jobbole-wp-plugin/js/menu-effects.js?ver=1.5.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var JobboleAjax = {"ajaxurl":"http:\/\/blog.jobbole.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/plugins/jobbole-wp-plugin/js/jobbole-wp-plugin.js?ver=1.0.61'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/util/tag-editor/colorbox/jquery.colorbox-min.js?ver=2.7.1.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.7.1.1","is_admin":"0","ajaxurl":"http:\/\/blog.jobbole.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"\u4f7f\u7528 %s \u590d\u5236\uff0c\u4f7f\u7528 %s \u7c98\u8d34\u3002","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/js/src/util.js?ver=2.7.1.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonTagEditorSettings = {"home_url":"http:\/\/blog.jobbole.com","css":"crayon-te","css_selected":"crayon-selected","code_css":"#crayon-code","url_css":"#crayon-url","url_info_css":"#crayon-te-url-info","lang_css":"#crayon-lang","title_css":"#crayon-title","mark_css":"#crayon-mark","range_css":"#crayon-range","inline_css":"crayon-inline","inline_hide_css":"crayon-hide-inline","inline_hide_only_css":"crayon-hide-inline-only","hl_css":"#crayon-highlight","switch_html":"#content-html","switch_tmce":"#content-tmce","tinymce_button_generic":".mce-btn","tinymce_button":"a.mce_crayon_tinymce,.mce-i-crayon_tinymce","tinymce_button_unique":"mce_crayon_tinymce","tinymce_highlight":"mce-active","submit_css":"#crayon-te-ok","cancel_css":"#crayon-te-cancel","content_css":"#crayon-te-content","dialog_title_css":"#crayon-te-title","submit_wrapper_css":"#crayon-te-submit-wrapper","data_value":"data-value","attr_sep":":","css_sep":"_","fallback_lang":"default","add_text":"Add Code","edit_text":"Edit Code","quicktag_text":"crayon","submit_add":"\u63d2\u5165","submit_edit":"\u4fdd\u5b58","bar":"#crayon-te-bar","bar_content":"#crayon-te-bar-content","extensions":{"scpt":"applescript","applescript":"applescript","swf":"as","fla":"as","cs":"c#","h":"c++","hh":"c++","hpp":"c++","hxx":"c++","h++":"c++","cc":"c++","cpp":"c++","cxx":"c++","c++":"c++","pas":"delphi","java":"java","class":"java","jar":"java","mv":"miva","mvc":"miva","mvt":"miva","m":"objc","mm":"objc","psc":"papyrus","pl":"perl","py":"python","pyw":"python","pyc":"python","pyo":"python","pyd":"python","rb":"ruby","rbx":"ruby","rhtml":"ruby","vbs":"vb"}};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/util/tag-editor/crayon_tag_editor.js?ver=2.7.1.1'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/js/src/jquery.popup.js?ver=2.7.1.1'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/js/src/crayon.js?ver=2.7.1.1'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/modernizr.js?ver=2.5.3'></script>
<link rel='https://api.w.org/' href='http://blog.jobbole.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.jobbole.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.jobbole.com/wp-includes/wlwmanifest.xml" /> 
<link rel='shortlink' href='http://blog.jobbole.com/?p=110225' />
<link rel="alternate" type="application/json+oembed" href="http://blog.jobbole.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.jobbole.com%2F110225%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://blog.jobbole.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.jobbole.com%2F110225%2F&#038;format=xml" />
    <script type="text/javascript">
        jQuery(function($){
            $('.comment-reply-link').click(function(e){
                e.preventDefault();
                var args = $(this).data('onclick');
                args = args.replace(/.*\(|\)/gi, '').replace(/\"|\s+/g, '');
                args = args.split(',');
                tinymce.EditorManager.execCommand('mceRemoveEditor', true, 'comment_editor');
                addComment.moveForm.apply( addComment, args );
                tinymce.EditorManager.execCommand('mceAddEditor', true, 'comment_editor');
            });

            $('#cancel-comment-reply-link').click(function(e){
                e.preventDefault();
                tinymce.EditorManager.execCommand('mceRemoveEditor', true, 'comment_editor');
                tinymce.EditorManager.execCommand('mceAddEditor', true, 'comment_editor');
            });
        });
    </script>
	
	<!-- CSS -->
    <link rel="stylesheet" type="text/css" media="screen" href="http://blog.jobbole.com/wp-content/themes/jobboleblogv3/style.css?ver=1.0.66">
	<style>
				*::selection { background: #0099cc; }
		*::-moz-selection { background: #0099cc; }
		body {
            background: #ffffff         }

        a,
        .tabs ul.nav li a:hover,
        .tabs ul.nav li.active a,
        .dropcap,
        .toggle.hover .toggle-title,
        li.comment cite a:hover,
        h3.widget-title,
        .post-meta .meta-title:hover,
        .the-latest a:hover h4,
        .aw_socialcounter_widget li a:hover,
        .aw_tabbed_widget #tab-latest-comments a:hover
        {
            color: #0099cc;
        }

		a:hover { color: #b30000; }
		input:focus, textarea:focus { border-color: #0099cc; }

		#searchsubmit,
        .highlight,
        .aw_tabbed_widget .tabs ul.nav li.active a, footer .aw_tabbed_widget .tabs ul.nav li.active a,
        #top .aw_tabbed_widget .tabs ul.nav li.active a,
        .aw_tabbed_widget .tabs ul.nav li a:hover,
        footer .aw_tabbed_widget .tabs ul.nav li a:hover,
        #top .aw_tabbed_widget .tabs ul.nav li a:hover,
        .aw_twitter_widget .twitter-icon, .testimonial-icon,
        #top-closed:hover,
        .flex-control-nav a:hover,
        .flex-control-nav a.flex-active {
            background-color: #0099cc;
        }

		.submit { background-color: #0099cc; border-color: #007399; }
		.submit:hover { background-color: #b30000; border-color: #860000; }
		#searchsubmit:hover { background-color: #b30000; }
		.toggle.hover .toggle-icon { border-top-color: #0099cc; }
		.toggle.hover.active .toggle-icon { border-bottom-color: #0099cc; }
		.flex-direction-nav li .flex-prev:hover { border-right-color: #0099cc; }
		.flex-direction-nav li .flex-next:hover { border-left-color: #0099cc; }
		@media only screen and (min-width: 768px) and (max-width: 959px) {
			.aw_tabbed_widget .tabs ul.nav li a:hover, .tabs ul.nav li.active a { color: #0099cc; }
		}
		@media screen and (max-width: 767px) {
			.tabs ul.nav li a:hover, .tabs ul.nav li.active a { color: #0099cc; }
		}
	</style>

	<!--[if IE 8]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
    <![endif]-->

	<!-- Links: RSS + Atom Syndication + Pingback etc. -->
	<link rel="alternate" type="application/rss+xml" title="文章 &#8211; 伯乐在线 RSS Feed" href="http://blog.jobbole.com/feed/" />
	<link rel="alternate" type="text/xml" title="RSS .92" href="http://blog.jobbole.com/feed/rss/" />
	<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://blog.jobbole.com/feed/atom/" />
	<link rel="pingback" href="http://blog.jobbole.com/xmlrpc.php" />

<!-- END head -->
</head>

<!-- BEGIN body -->
<body class="single single-post postid-110225 single-format-standard chrome">

		
	    <nav id="top-nav" class="menu-nav">

        <!-- BEGIN .container -->
        <div class="container">

            <div class="grid-7 hide-on-480 hide-on-767">
                <ul id="menu-main-menu" class="menu left">
                    <li class="menu-item">
                        <a href="http://www.jobbole.com">首页</a>
                    </li>
                    <li class="menu-item">
                        <a href="http://top.jobbole.com">资讯</a>
                    </li>
                    <li class="menu-item">
                        <span><a href="http://blog.jobbole.com">文章 <i class="fa fa-angle-double-down"></i></a></span>
                        <ul class="sub-menu sf-js-enabled">
                            <li class="menu-item"><a href="http://blog.jobbole.com">全部文章</a></li>
                            <li class="menu-item"><a href="http://web.jobbole.com">Web前端</a></li>
                            <li class="menu-item"><a href="http://python.jobbole.com">Python开发</a></li>
                            <li class="menu-item"><a href="http://www.importnew.com/?utm_source=home-top-nav">Java技术</a></li>
                            <li class="menu-item"><a href="http://android.jobbole.com">Android应用</a></li>
                            <li class="menu-item"><a href="http://ios.jobbole.com">iOS应用</a></li>
                        </ul>
                    </li>
                    <li class="menu-item">
                        <a href="http://hao.jobbole.com">资源</a>
                    </li>

                    <li class="menu-item">
                        <a href="http://group.jobbole.com">小组</a>
                    </li>

                    <li class="menu-item">
                        <a href="http://date.jobbole.com"><i class="fa fa-heart-o pinkiconcolor"></i> 相亲</a>
                    </li>
                </ul>
            </div>

            <div class="grid-5">
                <ul id="menu-main-menu" class="menu">
                    <li class="menu-item hide-on-768-wider left">
                        <span><a href="#">频道 <i class="fa fa-angle-double-down"></i></a></span>
                        <ul class="sub-menu sf-js-enabled">
                            <li class="menu-item"><a href="http://www.jobbole.com">首页</a></li>
                            <li class="menu-item"><a href="http://top.jobbole.com">资讯</a></li>
                            <li class="menu-item"><a href="http://group.jobbole.com">小组</a></li>
                            <li class="menu-item"><a href="http://date.jobbole.com">相亲 <i class="fa fa-heart-o pinkiconcolor"></i></a></li>
                            <li class="menu-item"><a href="http://hao.jobbole.com">资源</a></li>
                            <li class="menu-item"><a href="http://blog.jobbole.com">全部文章</a></li>
                            <li class="menu-item"><a href="http://web.jobbole.com">前端</a></li>
                            <li class="menu-item"><a href="http://python.jobbole.com">Python</a></li>
                            <li class="menu-item"><a href="http://www.importnew.com/">Java</a></li>
                            <li class="menu-item"><a href="http://android.jobbole.com">安卓</a></li>
                            <li class="menu-item"><a href="http://ios.jobbole.com">iOS</a></li>
                        </ul>
                    </li>

                                            <li class="menu-item"><a href="http://www.jobbole.com/login?redirect=http%3A%2F%2Fblog.jobbole.com%2F110225%2F"><i class="fa fa-sign-in"></i> 登录</a></li>
                        <li class="menu-item"><a href="http://www.jobbole.com/register"><i class="fa fa-user-plus"></i> 注册</a></li>
                    
                    
                    <li class="menu-item"><a title="帮助" href="http://blog.jobbole.com/87622/"><i class="fa fa-question-circle fa-lg"></i></a></li>
                </ul>
            </div>
            <div class="clear"></div>

        </div>
        <!-- END .container -->

    </nav>
    <!-- END #top-nav -->
  	
	<!-- BEGIN #wrapper -->
	<div id="wrapper" class="container">

		<!-- BEGIN header -->
		<header>
		
						
			<div class="header-wrapper">
								
				<!-- BEGIN #logo -->
				<div id="logo" class="leaderboard-true">
                    <a href="http://blog.jobbole.com"><img src="http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/img/jobbole-logo.png" alt="文章 &#8211; 伯乐在线" /></a>
				</div>
				<!-- END #logo -->
				
				<!-- BEGIN #leaderboard -->
				<div id="leaderboard">
				
					<a href='http://blog.jobbole.com/106093/' target='_blank'><img width='728' height='90' src='http://ww1.sinaimg.cn/mw690/bfdcef89gw1f9cf7deatvj20k802idgf.jpg' /></a>				
				</div>
				<!-- END #leaderboard -->
				
				<div class="clear"></div>
			
			</div>
			
						
			<div class="clear"></div>

            			<!-- BEGIN #main-nav -->
			<nav id="main-nav" class="grid-12 menu-nav">
                <div class="menu-sub-menu-container"><ul id="main-nav-menu" class="menu"><li id="menu-item-33290" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-33290"><a href="http://blog.jobbole.com/">首页</a></li>
<li id="menu-item-33406" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-33406"><a href="http://blog.jobbole.com/all-posts/">最新文章</a></li>
<li id="menu-item-33390" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-33390"><a href="http://blog.jobbole.com/category/career/">IT 职场</a></li>
<li id="menu-item-81047" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-81047"><a href="http://web.jobbole.com">前端</a>
<ul class="sub-menu">
	<li id="menu-item-107327" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-107327"><a href="http://web.jobbole.com/category/javascript-2/">JavaScript</a></li>
	<li id="menu-item-107329" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-107329"><a href="http://web.jobbole.com/category/html5/">HTML5</a></li>
	<li id="menu-item-107328" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-107328"><a href="http://web.jobbole.com/category/css/">CSS</a></li>
</ul>
</li>
<li id="menu-item-107321" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-107321"><a href="#">后端</a>
<ul class="sub-menu">
	<li id="menu-item-81218" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-81218"><a href="http://python.jobbole.com">Python</a></li>
	<li id="menu-item-53194" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-53194"><a href="http://www.importnew.com">Java</a></li>
	<li id="menu-item-57616" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-57616"><a href="http://blog.jobbole.com/category/c-cpp/">C/C++</a></li>
	<li id="menu-item-57003" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-57003"><a href="http://blog.jobbole.com/category/php-programmer/">PHP</a></li>
	<li id="menu-item-97173" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-97173"><a href="http://blog.jobbole.com/tag/net/">.NET</a></li>
	<li id="menu-item-55603" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-55603"><a href="http://blog.jobbole.com/category/ruby/">Ruby</a></li>
	<li id="menu-item-70347" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-70347"><a href="http://blog.jobbole.com/category/go/">Go</a></li>
</ul>
</li>
<li id="menu-item-107322" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-107322"><a href="#">移动端</a>
<ul class="sub-menu">
	<li id="menu-item-81220" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-81220"><a href="http://android.jobbole.com">Android</a></li>
	<li id="menu-item-81219" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-81219"><a href="http://ios.jobbole.com">iOS</a></li>
</ul>
</li>
<li id="menu-item-107323" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-107323"><a href="http://blog.jobbole.com/tag/database/">数据库</a></li>
<li id="menu-item-107324" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-107324"><a href="#">运维</a>
<ul class="sub-menu">
	<li id="menu-item-55604" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-55604"><a href="http://blog.jobbole.com/tag/linux/">Linux</a></li>
	<li id="menu-item-55607" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-55607"><a href="http://blog.jobbole.com/tag/unix/">UNIX</a></li>
</ul>
</li>
<li id="menu-item-107326" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-107326"><a href="#">其他技术</a>
<ul class="sub-menu">
	<li id="menu-item-55606" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-55606"><a href="http://blog.jobbole.com/tag/git/">Git</a></li>
	<li id="menu-item-89963" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-89963"><a href="http://blog.jobbole.com/tag/machinelearning/">机器学习</a></li>
	<li id="menu-item-55635" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-55635"><a href="http://blog.jobbole.com/tag/algorithm/">算法</a></li>
	<li id="menu-item-55612" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-55612"><a href="http://blog.jobbole.com/tag/%e6%b5%8b%e8%af%95/">测试</a></li>
	<li id="menu-item-55618" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-55618"><a href="http://blog.jobbole.com/tag/%e5%ae%89%e5%85%a8/">信息安全</a></li>
	<li id="menu-item-55636" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-55636"><a href="http://blog.jobbole.com/tag/vim/">Vim</a></li>
</ul>
</li>
</ul></div>				<div class="clear"></div>
			</nav>
			<!-- END #main-nav -->
                        <div class="clear"></div>

		</header>
		<!-- END header -->
		
		<div id="breadcrumb" class="grid-12 margin-20"><div class="breadcrumb-wrapper"><!-- Breadcrumb NavXT 4.4.0 -->
<a title="Go to 伯乐在线." href="http://www.jobbole.com" class="main-home">伯乐在线</a> &gt; <a href="http://blog.jobbole.com" class="home">首页</a> &gt; <a href="http://blog.jobbole.com/all-posts/" class="post-root post-post">所有文章</a> &gt; <a href="http://blog.jobbole.com/category/it-tech/" class="category">IT技术</a> &gt; 一个脚本引发的血案</div></div><div class="clear"></div>

<!-- BEGIN .grid-8 -->
<div class="grid-8">

		
	<!-- BEGIN .post -->
<div class="post-110225 post type-post status-publish format-standard hentry category-it-tech tag-dubbo tag-jvm tag-architecture odd" id="post-110225">
	
	<!-- BEGIN .entry-header -->
	<div class="entry-header">
	
				
		<h1>一个脚本引发的血案</h1>
		
							
	</div>
	<!-- BEGIN .entry-header -->
	
	<!-- BEGIN .entry-meta -->
	<div class="entry-meta">
	
		<p class="entry-meta-hide-on-mobile">

            2017/02/16 &middot;  <a href="http://blog.jobbole.com/category/it-tech/" rel="category tag">IT技术</a>
            
                            &middot; <a href="#article-comment"> 2 评论 </a>
            

            
             &middot;  <a href="http://blog.jobbole.com/tag/dubbo/">Dubbo</a>, <a href="http://blog.jobbole.com/tag/jvm/">JVM</a>, <a href="http://blog.jobbole.com/tag/architecture/">架构</a>
            
</p>

<!-- JiaThis Button BEGIN -->
<div class="jiathis_style" style="display: block; margin: 0 0px; clear: both;"><span class="jiathis_txt">分享到：</span>
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_fb"></a>
<a class="jiathis_button_douban"></a>
<a class="jiathis_button_readitlater"></a>
<a class="jiathis_button_evernote"></a>
<a class="jiathis_button_ydnote"></a>
<a href="http://www.jiathis.com/share?uid=1745061" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
<a class="jiathis_counter_style"></a>
</div>
<!-- JiaThis Button END -->


	</div>
	<!-- END .entry-meta -->

	<!-- BEGIN .entry -->
	<div class="entry">

        			<div class="textwidget"><p><script src="http://www.imooc.com/open/courselistrandjs"></script><span style='display:block;margin-bottom:10px;'></span></p>
</div>
		
		<div class='copyright-area'>本文作者： <a href='http://blog.jobbole.com'>伯乐在线</a> - <a href='http://www.jobbole.com/members/ityouknow'>纯洁的微笑</a> 。未经作者许可，禁止转载！<br/>欢迎加入伯乐在线 <a href='http://blog.jobbole.com/99322' target='_blank'>专栏作者</a>。</div><p>我们本身是一家互联网金融公司，公司的主流业务就是p2p，因为各种原因吧，15年底启动建设众筹平台。考虑到前期开发过程中的一些弊端和架构经验，本次架构引用了dubbo做soa服务的治理，web容器nginx+tomcat，后端语言采用java,框架选择spring+mybaits,前端模板引擎使用的是btl，app采用原生+h5的模式。这个架构可以参考我之前写的文章《<a href="http://blog.jobbole.com/110234/" target="_blank">从零到百亿互联网金融架构发展史</a>》中的第三代系统架构,之前的文章主要介绍了架构的变迁，本篇文章主要介绍在第三代平台中遇到的问题以及解决方法。</p>
<p>首先介绍一下众筹系统的部署架构（如下图），网站和app请求都是首先到最前端的nginx,如果只是静态内容的访问nginx直接处理后返回；动态请求分别转发到后端的tomcat前端服务层，前端服务层只关注页面端业务逻辑不涉及数据库的操作，如果只是页面框架渲染以及不涉及数据库的请求，在前端服务层直接处理返回；如果涉及到数据库操作或者核心业务逻辑，前端服务层通过dubbo调用后端的接入层服务或者核心层服务。</p>
<p><img src="http://www.ityouknow.com/assets/images/2017/optimize/zhongchou.jpg" alt="" /></p>
<p>上线在生产测试期间，发现tomcat过一段时间就会莫名奇妙的down掉，特别是后端的tomcat down掉的频率比较高。后端的tomcat down掉之后对前端的页面展示没有影响，会影响后端的交易。</p>
<h3 id="jvm">jvm参数配置</h3>
<p>查看tomcat业务日志，报错如下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58ac1a4224c9c244281130" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
2016-04-14 12:01:55,025 - org.jboss.netty.channel.DefaultChannelPipeline -59679839 [New I/O worker #29] WARN  null -  [DUBBO] An exception was thrown by a user handler while handling an exception event ([id: 0x5f980c11, /xxx:55386 =&gt; /xxx:6666] EXCEPTION: com.alibaba.dubbo.remoting.ExecutionException: class com.alibaba.dubbo.remoting.transport.dispatcher.all.AllChannelHandler error when process received event .), dubbo version: 2.8.4, current host: xxx
com.alibaba.dubbo.remoting.ExecutionException: class com.alibaba.dubbo.remoting.transport.dispatcher.all.AllChannelHandler error when process caught event .
    at com.alibaba.dubbo.remoting.transport.dispatcher.all.AllChannelHandler.caught(AllChannelHandler.java:67)
    at com.alibaba.dubbo.remoting.transport.AbstractChannelHandlerDelegate.caught(AbstractChannelHandlerDelegate.java:44)
    at com.alibaba.dubbo.remoting.transport.AbstractChannelHandlerDelegate.caught(AbstractChannelHandlerDelegate.java:44)
    at com.alibaba.dubbo.remoting.transport.AbstractPeer.caught(AbstractPeer.java:127)
    at com.alibaba.dubbo.remoting.transport.netty.NettyHandler.exceptionCaught(NettyHandler.java:112)
    at com.alibaba.dubbo.remoting.transport.netty.NettyCodecAdapter$InternalDecoder.exceptionCaught(NettyCodecAdapter.java:165)
    at org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:525)
    at org.jboss.netty.channel.AbstractChannelSink.exceptionCaught(AbstractChannelSink.java:48)
    at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296)
    at com.alibaba.dubbo.remoting.transport.netty.NettyCodecAdapter$InternalDecoder.messageReceived(NettyCodecAdapter.java:148)
    at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)
    at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)
    at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88)
    at org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:109)
    at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:312)
    at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:90)
    at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.OutOfMemoryError: unable to create new native thread
    at java.lang.Thread.start0(Native Method)
    at java.lang.Thread.start(Thread.java:714)
    at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:949)
    at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1360)
    at com.alibaba.dubbo.remoting.transport.dispatcher.all.AllChannelHandler.caught(AllChannelHandler.java:65)
    ... 19 more</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-2">2</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-4">4</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-6">6</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-8">8</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-10">10</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-12">12</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-14">14</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-16">16</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-18">18</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-20">20</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-22">22</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-24">24</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-26">26</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224c9c244281130-28">28</div><div class="crayon-num" data-line="crayon-58ac1a4224c9c244281130-29">29</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-1"><span class="crayon-cn">2016</span><span class="crayon-o">-</span><span class="crayon-cn">04</span><span class="crayon-o">-</span><span class="crayon-cn">14</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-o">:</span><span class="crayon-cn">01</span><span class="crayon-o">:</span><span class="crayon-cn">55</span><span class="crayon-sy">,</span><span class="crayon-cn">025</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">DefaultChannelPipeline</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">59679839</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-r">New</span><span class="crayon-h"> </span><span class="crayon-v">I</span><span class="crayon-o">/</span><span class="crayon-i">O</span><span class="crayon-h"> </span><span class="crayon-v">worker</span><span class="crayon-h"> </span><span class="crayon-p">#29] WARN&nbsp;&nbsp;null -&nbsp;&nbsp;[DUBBO] An exception was thrown by a user handler while handling an exception event ([id: 0x5f980c11, /xxx:55386 =&gt; /xxx:6666] EXCEPTION: com.alibaba.dubbo.remoting.ExecutionException: class com.alibaba.dubbo.remoting.transport.dispatcher.all.AllChannelHandler error when process received event .), dubbo version: 2.8.4, current host: xxx</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-2"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">ExecutionException</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">dispatcher</span><span class="crayon-sy">.</span><span class="crayon-v">all</span><span class="crayon-sy">.</span><span class="crayon-e">AllChannelHandler </span><span class="crayon-e">error </span><span class="crayon-e">when </span><span class="crayon-e">process </span><span class="crayon-e">caught </span><span class="crayon-i">event</span><span class="crayon-h"> </span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">dispatcher</span><span class="crayon-sy">.</span><span class="crayon-v">all</span><span class="crayon-sy">.</span><span class="crayon-v">AllChannelHandler</span><span class="crayon-sy">.</span><span class="crayon-e">caught</span><span class="crayon-sy">(</span><span class="crayon-v">AllChannelHandler</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">67</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractChannelHandlerDelegate</span><span class="crayon-sy">.</span><span class="crayon-e">caught</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractChannelHandlerDelegate</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">44</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractChannelHandlerDelegate</span><span class="crayon-sy">.</span><span class="crayon-e">caught</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractChannelHandlerDelegate</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">44</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractPeer</span><span class="crayon-sy">.</span><span class="crayon-e">caught</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractPeer</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">127</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">NettyHandler</span><span class="crayon-sy">.</span><span class="crayon-e">exceptionCaught</span><span class="crayon-sy">(</span><span class="crayon-v">NettyHandler</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">112</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">NettyCodecAdapter</span><span class="crayon-sy">$</span><span class="crayon-v">InternalDecoder</span><span class="crayon-sy">.</span><span class="crayon-e">exceptionCaught</span><span class="crayon-sy">(</span><span class="crayon-v">NettyCodecAdapter</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">165</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-e">fireExceptionCaught</span><span class="crayon-sy">(</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">525</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractChannelSink</span><span class="crayon-sy">.</span><span class="crayon-e">exceptionCaught</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractChannelSink</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">48</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-e">fireMessageReceived</span><span class="crayon-sy">(</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">296</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">NettyCodecAdapter</span><span class="crayon-sy">$</span><span class="crayon-v">InternalDecoder</span><span class="crayon-sy">.</span><span class="crayon-e">messageReceived</span><span class="crayon-sy">(</span><span class="crayon-v">NettyCodecAdapter</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">148</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-e">fireMessageReceived</span><span class="crayon-sy">(</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">268</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-e">fireMessageReceived</span><span class="crayon-sy">(</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">255</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">nio</span><span class="crayon-sy">.</span><span class="crayon-v">NioWorker</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-v">NioWorker</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">88</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">nio</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractNioWorker</span><span class="crayon-sy">.</span><span class="crayon-e">process</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractNioWorker</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">109</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">nio</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractNioSelector</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractNioSelector</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">312</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">nio</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractNioWorker</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractNioWorker</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">90</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">nio</span><span class="crayon-sy">.</span><span class="crayon-v">NioWorker</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-v">NioWorker</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">178</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-e">runWorker</span><span class="crayon-sy">(</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">1145</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">$</span><span class="crayon-v">Worker</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">615</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">lang</span><span class="crayon-sy">.</span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">745</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-23"><span class="crayon-e">Caused </span><span class="crayon-v">by</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">lang</span><span class="crayon-sy">.</span><span class="crayon-v">OutOfMemoryError</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">unable </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">create </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-m">native</span><span class="crayon-h"> </span><span class="crayon-e">thread</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-24"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">lang</span><span class="crayon-sy">.</span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">start0</span><span class="crayon-sy">(</span><span class="crayon-m">Native</span><span class="crayon-h"> </span><span class="crayon-v">Method</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">lang</span><span class="crayon-sy">.</span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">start</span><span class="crayon-sy">(</span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">714</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-e">addWorker</span><span class="crayon-sy">(</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">949</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-e">execute</span><span class="crayon-sy">(</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">1360</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224c9c244281130-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">dispatcher</span><span class="crayon-sy">.</span><span class="crayon-v">all</span><span class="crayon-sy">.</span><span class="crayon-v">AllChannelHandler</span><span class="crayon-sy">.</span><span class="crayon-e">caught</span><span class="crayon-sy">(</span><span class="crayon-v">AllChannelHandler</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">65</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224c9c244281130-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-cn">19</span><span class="crayon-h"> </span><span class="crayon-v">more</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0123 seconds] -->
<p>查看output日志，发现其中有这么一句。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58ac1a4224caa656258878" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
SEVERE: The web application [/xxx] appears to have started a thread named [DubboResponseTimeoutScanTimer] but has failed to stop it. This is very likely to create a memory leak.</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58ac1a4224caa656258878-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58ac1a4224caa656258878-1"><span class="crayon-v">SEVERE</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">The </span><span class="crayon-e">web </span><span class="crayon-i">application</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-o">/</span><span class="crayon-v">xxx</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-e">appears </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">have </span><span class="crayon-i">started</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">thread </span><span class="crayon-i">named</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">DubboResponseTimeoutScanTimer</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-e">but </span><span class="crayon-e">has </span><span class="crayon-e">failed </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">stop </span><span class="crayon-v">it</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-r">This</span><span class="crayon-h"> </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-e">very </span><span class="crayon-e">likely </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-i">create</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">memory </span><span class="crayon-v">leak</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>根据日志提示貌似有内存泄露，以前确实还没有碰到过这个错误，一片迷茫。重新启动后，先用命令<code>jstat -gc xxx 1000 30</code>查看java 进程的gc情况，发现在30秒的世界内minor gc了n次，随怀疑年轻代内存配置少了，查看个区域内存的配置参数如下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58ac1a4224caf134224041" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
-Xms10g -Xmx10g -XX:PermSize=1g -XX:MaxPermSize=2g -Xshare:off -Xmn1024m</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58ac1a4224caf134224041-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58ac1a4224caf134224041-1"><span class="crayon-o">-</span><span class="crayon-v">Xms10g</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">Xmx10g</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">XX</span><span class="crayon-o">:</span><span class="crayon-v">PermSize</span><span class="crayon-o">=</span><span class="crayon-cn">1g</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">XX</span><span class="crayon-o">:</span><span class="crayon-v">MaxPermSize</span><span class="crayon-o">=</span><span class="crayon-cn">2g</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">Xshare</span><span class="crayon-o">:</span><span class="crayon-v">off</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">Xmn1024m</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>按照年轻代为堆内存为百分之三的原则修改为<code>-Xmn4g</code>，重新启动观察之后mimor gc的频率确实有所下降，测试大约过了3小时候之后又反馈tomcat down掉了，继续分析启动参数配置的时候发现了这么一句<code>-XX:-+DisableExplicitGC</code>,显示的禁止了<code>System.gc()</code>,但是使用了java.nio的大量框架中使用<code>System.gc()</code>来执行gc期通过full gc来强迫已经无用的DirectByteBuffer对象释放掉它们关联的native memory,如果禁用会导致OOM,随即怀疑是否是这个参数引发的问题，在启动参数中去掉它。</p>
<p>为了防止再次出现异常的时候能更加详细的分析堆内存的使用情况，在启动参数中添加了<code>-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/usr/local/logs/java/</code>，当tomcat down的时候让输出堆内存文件，一边也启动jvisualvm工具来实时的监控内存各个线程的使用情况。</p>
<h3 id="section">数据库连接池</h3>
<p>继续使用压测工具来压测，在压测的过程中发现名为<code>com.mchange.v2.resourcepool.ssync.ThreadPoolAsynchronousRunner$PoolThred-#xxx</code>的线程不断的增长，并且后台tomcat报错如下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58ac1a4224cb3578679875" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
2016-04-13 16:55:15,175 - com.alibaba.dubbo.common.threadpool.support.AbortPolicyWithReport -83649035 [New I/O worker #27] WARN  -  [DUBBO] Thread pool is EXHAUSTED! Thread Name: DubboServerHandler-xxx:6666, Pool Size: 200 (active: 200, core: 200, max: 200, largest: 200), Task: 692 (completed: 492), Executor status:(isShutdown:false, isTerminated:false, isTerminating:false), in dubbo://xxx:6666!, dubbo version: 2.8.4, current host: xxx
2016-04-13 16:55:15,176 - com.alibaba.dubbo.common.threadpool.support.AbortPolicyWithReport -83649036 [New I/O worker #27] WARN  -  [DUBBO] Thread pool is EXHAUSTED! Thread Name: DubboServerHandler-xxx:6666, Pool Size: 200 (active: 200, core: 200, max: 200, largest: 200), Task: 692 (completed: 492), Executor status:(isShutdown:false, isTerminated:false, isTerminating:false), in dubbo://xxx:6666!, dubbo version: 2.8.4, current host: xxx
2016-04-13 16:55:15,177 - org.jboss.netty.channel.DefaultChannelPipeline -83649037 [New I/O worker #27] WARN  -  [DUBBO] An exception was thrown by a user handler while handling an exception event ([id: 0x2f345d45, /192.168.57.20:36475 =&gt; /xxx:6666] EXCEPTION: com.alibaba.dubbo.remoting.ExecutionException: class com.alibaba.dubbo.remoting.transport.dispatcher.all.AllChannelHandler error when process received event .), dubbo version: 2.8.4, current host: xxx
com.alibaba.dubbo.remoting.ExecutionException: class com.alibaba.dubbo.remoting.transport.dispatcher.all.AllChannelHandler error when process caught event .
    at com.alibaba.dubbo.remoting.transport.dispatcher.all.AllChannelHandler.caught(AllChannelHandler.java:67)
    at com.alibaba.dubbo.remoting.transport.AbstractChannelHandlerDelegate.caught(AbstractChannelHandlerDelegate.java:44)
    at com.alibaba.dubbo.remoting.transport.AbstractChannelHandlerDelegate.caught(AbstractChannelHandlerDelegate.java:44)
    at com.alibaba.dubbo.remoting.transport.AbstractPeer.caught(AbstractPeer.java:127)
    at com.alibaba.dubbo.remoting.transport.netty.NettyHandler.exceptionCaught(NettyHandler.java:112)
    at com.alibaba.dubbo.remoting.transport.netty.NettyCodecAdapter$InternalDecoder.exceptionCaught(NettyCodecAdapter.java:165)
    at org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:525)
    at org.jboss.netty.channel.AbstractChannelSink.exceptionCaught(AbstractChannelSink.java:48)
    at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296)
    at com.alibaba.dubbo.remoting.transport.netty.NettyCodecAdapter$InternalDecoder.messageReceived(NettyCodecAdapter.java:148)
    at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)
    at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)
    at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88)
    at org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:109)
    at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:312)
    at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:90)
    at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    at java.lang.Thread.run(Thread.java:745)
Caused by: java.util.concurrent.RejectedExecutionException: Thread pool is EXHAUSTED! Thread Name: DubboServerHandler-xxx:6666, Pool Size: 200 (active: 200, core: 200, max: 200, largest: 200), Task: 692 (completed: 492), Executor status:(isShutdown:false, isTerminated:false, isTerminating:false), in dubbo://xxx:6666!
    at com.alibaba.dubbo.common.threadpool.support.AbortPolicyWithReport.rejectedExecution(AbortPolicyWithReport.java:53)
    at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:821)
    at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1372)
    at com.alibaba.dubbo.remoting.transport.dispatcher.all.AllChannelHandler.caught(AllChannelHandler.java:65)
    ... 19 more</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-2">2</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-4">4</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-6">6</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-8">8</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-10">10</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-12">12</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-14">14</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-16">16</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-18">18</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-20">20</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-22">22</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-24">24</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-26">26</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-28">28</div><div class="crayon-num" data-line="crayon-58ac1a4224cb3578679875-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cb3578679875-30">30</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-1"><span class="crayon-cn">2016</span><span class="crayon-o">-</span><span class="crayon-cn">04</span><span class="crayon-o">-</span><span class="crayon-cn">13</span><span class="crayon-h"> </span><span class="crayon-cn">16</span><span class="crayon-o">:</span><span class="crayon-cn">55</span><span class="crayon-o">:</span><span class="crayon-cn">15</span><span class="crayon-sy">,</span><span class="crayon-cn">175</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">common</span><span class="crayon-sy">.</span><span class="crayon-v">threadpool</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">AbortPolicyWithReport</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">83649035</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-r">New</span><span class="crayon-h"> </span><span class="crayon-v">I</span><span class="crayon-o">/</span><span class="crayon-i">O</span><span class="crayon-h"> </span><span class="crayon-v">worker</span><span class="crayon-h"> </span><span class="crayon-p">#27] WARN&nbsp;&nbsp;-&nbsp;&nbsp;[DUBBO] Thread pool is EXHAUSTED! Thread Name: DubboServerHandler-xxx:6666, Pool Size: 200 (active: 200, core: 200, max: 200, largest: 200), Task: 692 (completed: 492), Executor status:(isShutdown:false, isTerminated:false, isTerminating:false), in dubbo://xxx:6666!, dubbo version: 2.8.4, current host: xxx</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-2"><span class="crayon-cn">2016</span><span class="crayon-o">-</span><span class="crayon-cn">04</span><span class="crayon-o">-</span><span class="crayon-cn">13</span><span class="crayon-h"> </span><span class="crayon-cn">16</span><span class="crayon-o">:</span><span class="crayon-cn">55</span><span class="crayon-o">:</span><span class="crayon-cn">15</span><span class="crayon-sy">,</span><span class="crayon-cn">176</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">common</span><span class="crayon-sy">.</span><span class="crayon-v">threadpool</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">AbortPolicyWithReport</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">83649036</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-r">New</span><span class="crayon-h"> </span><span class="crayon-v">I</span><span class="crayon-o">/</span><span class="crayon-i">O</span><span class="crayon-h"> </span><span class="crayon-v">worker</span><span class="crayon-h"> </span><span class="crayon-p">#27] WARN&nbsp;&nbsp;-&nbsp;&nbsp;[DUBBO] Thread pool is EXHAUSTED! Thread Name: DubboServerHandler-xxx:6666, Pool Size: 200 (active: 200, core: 200, max: 200, largest: 200), Task: 692 (completed: 492), Executor status:(isShutdown:false, isTerminated:false, isTerminating:false), in dubbo://xxx:6666!, dubbo version: 2.8.4, current host: xxx</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-3"><span class="crayon-cn">2016</span><span class="crayon-o">-</span><span class="crayon-cn">04</span><span class="crayon-o">-</span><span class="crayon-cn">13</span><span class="crayon-h"> </span><span class="crayon-cn">16</span><span class="crayon-o">:</span><span class="crayon-cn">55</span><span class="crayon-o">:</span><span class="crayon-cn">15</span><span class="crayon-sy">,</span><span class="crayon-cn">177</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">DefaultChannelPipeline</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">83649037</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-r">New</span><span class="crayon-h"> </span><span class="crayon-v">I</span><span class="crayon-o">/</span><span class="crayon-i">O</span><span class="crayon-h"> </span><span class="crayon-v">worker</span><span class="crayon-h"> </span><span class="crayon-p">#27] WARN&nbsp;&nbsp;-&nbsp;&nbsp;[DUBBO] An exception was thrown by a user handler while handling an exception event ([id: 0x2f345d45, /192.168.57.20:36475 =&gt; /xxx:6666] EXCEPTION: com.alibaba.dubbo.remoting.ExecutionException: class com.alibaba.dubbo.remoting.transport.dispatcher.all.AllChannelHandler error when process received event .), dubbo version: 2.8.4, current host: xxx</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-4"><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">ExecutionException</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">dispatcher</span><span class="crayon-sy">.</span><span class="crayon-v">all</span><span class="crayon-sy">.</span><span class="crayon-e">AllChannelHandler </span><span class="crayon-e">error </span><span class="crayon-e">when </span><span class="crayon-e">process </span><span class="crayon-e">caught </span><span class="crayon-i">event</span><span class="crayon-h"> </span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">dispatcher</span><span class="crayon-sy">.</span><span class="crayon-v">all</span><span class="crayon-sy">.</span><span class="crayon-v">AllChannelHandler</span><span class="crayon-sy">.</span><span class="crayon-e">caught</span><span class="crayon-sy">(</span><span class="crayon-v">AllChannelHandler</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">67</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractChannelHandlerDelegate</span><span class="crayon-sy">.</span><span class="crayon-e">caught</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractChannelHandlerDelegate</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">44</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractChannelHandlerDelegate</span><span class="crayon-sy">.</span><span class="crayon-e">caught</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractChannelHandlerDelegate</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">44</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractPeer</span><span class="crayon-sy">.</span><span class="crayon-e">caught</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractPeer</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">127</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">NettyHandler</span><span class="crayon-sy">.</span><span class="crayon-e">exceptionCaught</span><span class="crayon-sy">(</span><span class="crayon-v">NettyHandler</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">112</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">NettyCodecAdapter</span><span class="crayon-sy">$</span><span class="crayon-v">InternalDecoder</span><span class="crayon-sy">.</span><span class="crayon-e">exceptionCaught</span><span class="crayon-sy">(</span><span class="crayon-v">NettyCodecAdapter</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">165</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-e">fireExceptionCaught</span><span class="crayon-sy">(</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">525</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractChannelSink</span><span class="crayon-sy">.</span><span class="crayon-e">exceptionCaught</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractChannelSink</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">48</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-e">fireMessageReceived</span><span class="crayon-sy">(</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">296</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">NettyCodecAdapter</span><span class="crayon-sy">$</span><span class="crayon-v">InternalDecoder</span><span class="crayon-sy">.</span><span class="crayon-e">messageReceived</span><span class="crayon-sy">(</span><span class="crayon-v">NettyCodecAdapter</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">148</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-e">fireMessageReceived</span><span class="crayon-sy">(</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">268</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-e">fireMessageReceived</span><span class="crayon-sy">(</span><span class="crayon-v">Channels</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">255</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">nio</span><span class="crayon-sy">.</span><span class="crayon-v">NioWorker</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-v">NioWorker</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">88</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">nio</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractNioWorker</span><span class="crayon-sy">.</span><span class="crayon-e">process</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractNioWorker</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">109</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">nio</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractNioSelector</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractNioSelector</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">312</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">nio</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractNioWorker</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractNioWorker</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">90</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">jboss</span><span class="crayon-sy">.</span><span class="crayon-v">netty</span><span class="crayon-sy">.</span><span class="crayon-v">channel</span><span class="crayon-sy">.</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">nio</span><span class="crayon-sy">.</span><span class="crayon-v">NioWorker</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-v">NioWorker</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">178</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-e">runWorker</span><span class="crayon-sy">(</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">1145</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">$</span><span class="crayon-v">Worker</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">615</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">lang</span><span class="crayon-sy">.</span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">run</span><span class="crayon-sy">(</span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">745</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-25"><span class="crayon-e">Caused </span><span class="crayon-v">by</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">RejectedExecutionException</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Thread </span><span class="crayon-e">pool </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-v">EXHAUSTED</span><span class="crayon-o">!</span><span class="crayon-h"> </span><span class="crayon-e">Thread </span><span class="crayon-v">Name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">DubboServerHandler</span><span class="crayon-o">-</span><span class="crayon-v">xxx</span><span class="crayon-o">:</span><span class="crayon-cn">6666</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Pool </span><span class="crayon-v">Size</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">active</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">core</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">max</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">largest</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Task</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">692</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">completed</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">492</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">Executor </span><span class="crayon-v">status</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-v">isShutdown</span><span class="crayon-o">:</span><span class="crayon-t">false</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">isTerminated</span><span class="crayon-o">:</span><span class="crayon-t">false</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">isTerminating</span><span class="crayon-o">:</span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">dubbo</span><span class="crayon-o">:</span><span class="crayon-c">//xxx:6666!</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">common</span><span class="crayon-sy">.</span><span class="crayon-v">threadpool</span><span class="crayon-sy">.</span><span class="crayon-v">support</span><span class="crayon-sy">.</span><span class="crayon-v">AbortPolicyWithReport</span><span class="crayon-sy">.</span><span class="crayon-e">rejectedExecution</span><span class="crayon-sy">(</span><span class="crayon-v">AbortPolicyWithReport</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">53</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-e">reject</span><span class="crayon-sy">(</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">821</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-e">execute</span><span class="crayon-sy">(</span><span class="crayon-v">ThreadPoolExecutor</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">1372</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cb3578679875-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">at </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">alibaba</span><span class="crayon-sy">.</span><span class="crayon-v">dubbo</span><span class="crayon-sy">.</span><span class="crayon-v">remoting</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">dispatcher</span><span class="crayon-sy">.</span><span class="crayon-v">all</span><span class="crayon-sy">.</span><span class="crayon-v">AllChannelHandler</span><span class="crayon-sy">.</span><span class="crayon-e">caught</span><span class="crayon-sy">(</span><span class="crayon-v">AllChannelHandler</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">65</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cb3578679875-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-cn">19</span><span class="crayon-h"> </span><span class="crayon-v">more</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0155 seconds] -->
<p>根据这些信息随怀疑数据库连接池有问题，为了更好的监控连接池的使用，因此前期使用c3p0也会出现的一些问题，所以我们决定将数据库连接池替换成druid，已经在别的项目中使用测试过，因此非常快速的更换投产。投产后继续用压测工具来测试，根据druid的后台监控页面发现（项目地址/druid/index.html），每次前端掉用一次数据库连接就加一次,执行完成之后数据库连接并没有释放。如下图红色区域，我们将数据库连接池调整成1000,不一会就占满了。</p>
<p><img src="http://www.ityouknow.com/assets/images/2017/optimize/druid.jpg" alt="" /></p>
<p>根据这些信息判断出，数据库执行sql后肯定没有释放数据库连接，导致数据库连接池用满后，后续的线程无法执行，检查代码之后发现果然有问题,请看下方代码，我们最先使用的是SqlSessionFactory，如果使用SqlSessionFactory,在执行完sql后必须要执行<code>session.close()</code>来关闭连接，才会被连接池重新回收。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58ac1a4224cbb583922387" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
public class SessionFactory {
    @Resource
    private SqlSessionFactory coreSqlSessionFactory;
    protected SqlSession getSession() {
		return coreSqlSessionFactory.openSession();
    }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58ac1a4224cbb583922387-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cbb583922387-2">2</div><div class="crayon-num" data-line="crayon-58ac1a4224cbb583922387-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cbb583922387-4">4</div><div class="crayon-num" data-line="crayon-58ac1a4224cbb583922387-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cbb583922387-6">6</div><div class="crayon-num" data-line="crayon-58ac1a4224cbb583922387-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58ac1a4224cbb583922387-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">SessionFactory</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cbb583922387-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Resource</span></div><div class="crayon-line" id="crayon-58ac1a4224cbb583922387-3"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">SqlSessionFactory </span><span class="crayon-v">coreSqlSessionFactory</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cbb583922387-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-e">SqlSession </span><span class="crayon-e">getSession</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58ac1a4224cbb583922387-5"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">coreSqlSessionFactory</span><span class="crayon-sy">.</span><span class="crayon-e">openSession</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cbb583922387-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-58ac1a4224cbb583922387-7"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58ac1a4224cc1920889199" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
public class BaseDao extends SessionFactory{
    public void add(Entity entity) {
    	this.getSession().update(entity.getClass().getSimpleName()+"."+Thread.currentThread().getStackTrace()[2].getMethodName(), entity);
    }
}    </textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58ac1a4224cc1920889199-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc1920889199-2">2</div><div class="crayon-num" data-line="crayon-58ac1a4224cc1920889199-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc1920889199-4">4</div><div class="crayon-num" data-line="crayon-58ac1a4224cc1920889199-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58ac1a4224cc1920889199-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">BaseDao</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-e">SessionFactory</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc1920889199-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">add</span><span class="crayon-sy">(</span><span class="crayon-e">Entity </span><span class="crayon-v">entity</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58ac1a4224cc1920889199-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-e">getSession</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">update</span><span class="crayon-sy">(</span><span class="crayon-v">entity</span><span class="crayon-sy">.</span><span class="crayon-e">getClass</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getSimpleName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">+</span><span class="crayon-s">"."</span><span class="crayon-o">+</span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">currentThread</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">getMethodName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">entity</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc1920889199-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-58ac1a4224cc1920889199-5"><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>但是使用SqlSessionTemplate却不用手动执行代码来关闭session,因此我们把上面SessionFactory类中的代码改成SqlSessionTemplate（如下），此问题便解决了。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58ac1a4224cc5596805038" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
public class SessionFactory {
    @Resource  
    public SqlSessionTemplate coreSqlSession;
    protected SqlSessionTemplate getSession() {
    	return coreSqlSession;
    }
}  </textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58ac1a4224cc5596805038-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc5596805038-2">2</div><div class="crayon-num" data-line="crayon-58ac1a4224cc5596805038-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc5596805038-4">4</div><div class="crayon-num" data-line="crayon-58ac1a4224cc5596805038-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc5596805038-6">6</div><div class="crayon-num" data-line="crayon-58ac1a4224cc5596805038-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58ac1a4224cc5596805038-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">SessionFactory</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc5596805038-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-e">Resource&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-58ac1a4224cc5596805038-3"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">SqlSessionTemplate </span><span class="crayon-v">coreSqlSession</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc5596805038-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">protected</span><span class="crayon-h"> </span><span class="crayon-e">SqlSessionTemplate </span><span class="crayon-e">getSession</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58ac1a4224cc5596805038-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">coreSqlSession</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc5596805038-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-58ac1a4224cc5596805038-7"><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p>
<h3 id="section-1">诡异的脚本</h3>
<p>做完上面的优化之后，我们感觉问题应该解决了，但过了一段时间后tomcat又诡异的挂了，继续分析gc情况，分阶段使用<code>jmap -dump:live,format=b,file=dump.hprof xxx</code>命令生成堆转储快照来对比堆内存使用情况，监控线程使用情况，均发现没有问题。这个问题困扰了我们好几天，每天都监控这端口，一但发现tomcat down之后马上通知运营人员重启。一方面我们也查阅了各种资料，到网上查找各种tomcat自动down的原因，一一在我们服务器进行了测试、修复均不起作用。</p>
<p>终于在google各种tomcat down原因的时候发现了这么一篇文章<a href="http://ifeve.com/why-kill-2-cannot-stop-tomcat/">Tomcat进程意外退出的问题分析</a>，立刻想起了我们最近使用的一个脚本来，因为我们的tomcat禁止了通过bat文件来关闭，因此为了启动方便我们写了一个脚本文件，方便通过脚本来启动、停止、重启tomcat文件，这是这个脚本导致tomcat down的原因，不不，不叫原因叫元凶！脚本内容如下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58ac1a4224cc8923040925" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
#!/bin/sh
# eg: tomcat.sh start xxx
#
proc_dir="/usr/local/xxx/tomcat-zc-web/bin"
proc_name=$2
if [ x$proc_name != x ]
then
	proc_dir=${proc_dir//xxx/$proc_name}
fi
#echo $proc_dir
function stop () {
  kill -9 `ps -ef |grep $proc_dir |grep -v grep|awk '{print $2}'`
}

function start () {
  cd $proc_dir
  ./startup.sh
  tail -300f /usr/local/logs/tomcat-business/$proc_name.log
}

case $1 in 
  start)
	start;;
  stop)
	stop;;
  restart)
	stop
	start;;
esac</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-2">2</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-4">4</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-6">6</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-8">8</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-10">10</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-12">12</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-14">14</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-16">16</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-18">18</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-20">20</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-22">22</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-24">24</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-26">26</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-58ac1a4224cc8923040925-28">28</div><div class="crayon-num" data-line="crayon-58ac1a4224cc8923040925-29">29</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-1"><span class="crayon-p">#!/bin/sh</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-2"><span class="crayon-p"># eg: tomcat.sh start xxx</span></div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-3"><span class="crayon-p">#</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-4"><span class="crayon-v">proc_dir</span><span class="crayon-o">=</span><span class="crayon-s">"/usr/local/xxx/tomcat-zc-web/bin"</span></div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-5"><span class="crayon-v">proc_name</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-6"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">$</span><span class="crayon-v">proc_name</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-i">x</span><span class="crayon-h"> </span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-7"><span class="crayon-st">then</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-8"><span class="crayon-h">	</span><span class="crayon-v">proc_dir</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">{</span><span class="crayon-v">proc_dir</span><span class="crayon-c">//xxx/$proc_name}</span></div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-9"><span class="crayon-v">fi</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-10"><span class="crayon-p">#echo $proc_dir</span></div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-11"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">stop</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">kill</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">9</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">ps</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">ef</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-i">grep</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">proc_dir</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-v">grep</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-v">grep</span><span class="crayon-o">|</span><span class="crayon-i">awk</span><span class="crayon-h"> </span><span class="crayon-s">'{print $2}'</span><span class="crayon-sy">`</span></div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-13"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-14">&nbsp;</div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-15"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">start</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">cd</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">proc</span><span class="crayon-sy">_</span>dir</div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">startup</span><span class="crayon-sy">.</span><span class="crayon-e">sh</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-18"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-v">tail</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">300f</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">usr</span><span class="crayon-o">/</span><span class="crayon-v">local</span><span class="crayon-o">/</span><span class="crayon-v">logs</span><span class="crayon-o">/</span><span class="crayon-v">tomcat</span><span class="crayon-o">-</span><span class="crayon-v">business</span><span class="crayon-o">/</span><span class="crayon-sy">$</span><span class="crayon-v">proc_name</span><span class="crayon-sy">.</span><span class="crayon-i">log</span></div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-19"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-20">&nbsp;</div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-21"><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">start</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-23"><span class="crayon-h">	</span><span class="crayon-v">start</span><span class="crayon-sy">;</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-24"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">stop</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-25"><span class="crayon-h">	</span><span class="crayon-v">stop</span><span class="crayon-sy">;</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-26"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">restart</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-27"><span class="crayon-h">	</span><span class="crayon-e">stop</span></div><div class="crayon-line crayon-striped-line" id="crayon-58ac1a4224cc8923040925-28"><span class="crayon-e">	</span><span class="crayon-v">start</span><span class="crayon-sy">;</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58ac1a4224cc8923040925-29"><span class="crayon-v">esac</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0030 seconds] -->
<p>就是因为<code>tail -300f /usr/local/logs/tomcat-business/$proc_name.log</code>这一句导致的问题，在别的项目使用的时候其实是没有这一句的，一般在使用的步骤是：</p>
<ul>
<li>1 执行<code>tomcat.sh start xxx</code>启动tomcat,</li>
<li>2 执行<code>tail -300f /usr/local/logs/tomcat-business/xxx.log</code> 查看启动日志是否成功。</li>
</ul>
<p>在这次投产的时候为了省一步操作，就将执行查看日志的命令，直接加在了启动命令的后面，当执行<code>tomcat.sh start xxx</code>这个命令的时候，即启动的tomcat，也自动会打印出tomcat的日志，那时候的想法非常好。</p>
<p>原因是，使用脚本命令启动后因为使用了<code>tail -300f xxx</code> 命令，tomcat的进程会成为shell脚本的子进程，这样的话，如过shell脚本停止的话，系统会自动杀掉tomcat进程导致tomcat down掉，在我们的脚本中去掉这条命令tomcat就正常了，更深层次的原因参考<a href="http://ifeve.com/why-kill-2-cannot-stop-tomcat/">Tomcat进程意外退出的问题分析</a>这篇文章，文章的内容还是分析的比较透彻，最后感觉阿里的技术真的很牛X，这篇文章也是出自于阿里的员工。</p>
<blockquote><p>经历这么些波折，后续的tomcat服务终于稳定了下来</p></blockquote>

        
            <blockquote class="rewards">
        <p><strong>打赏支持我写出更多好文章，谢谢！</strong></p>
        <a href="#rewardbox" id="rewards-button" class="fancybox"><span class="btn-bluet-blue href-style"><i class="fa fa-jpy"></i> 打赏作者</span></a>
    </blockquote>

    <div id="rewardbox">
        <h4>打赏支持我写出更多好文章，谢谢！</h4>
                <p>任选一种支付方式</p>
                <p>
                        <img src="http://jbcdn2.b0.upaiyun.com/2017/02/bdbb2fd2100937012521bcca7666214a.png" />
            
                            <img src="http://jbcdn2.b0.upaiyun.com/2017/02/4d73722317836066abc1944476af6821.jpg" />
                    </p>
    </div>

    
        
    <div class="post-adds">
        <span data-post-id="110225" class=" btn-bluet-bigger href-style vote-post-up   register-user-only "><i class="fa  fa-thumbs-o-up"></i> <h10 id="110225votetotal">4</h10> 赞</span>
        <span data-book-type="1" data-site-id="2" data-item-id="110225" data-item-type="1" class=" btn-bluet-bigger href-style bookmark-btn  register-user-only "><i class="fa fa-bookmark-o  "></i> 4 收藏</span>

                    <a href="#article-comment"><span class="btn-bluet-bigger href-style hide-on-480"><i class="fa fa-comments-o"></i> 2 评论</span></a>
        
        
        
        <!-- JiaThis Button BEGIN -->
        <div class="jiathis_style_24x24" style="display: inline-flex; position: relative; margin: 0; clear: both;float: right;">
            <a class="jiathis_button_tsina"></a>
            <a class="jiathis_button_weixin"></a>
            <a class="jiathis_button_qzone"></a>
            <a class="jiathis_button_fb hide-on-480"></a>
            <a href="http://www.jiathis.com/share?uid=1745061" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
        </div>

    </div>




        <!-- BEGIN #author-bio -->

<div id="author-bio">
	
	<h3 class="widget-title">
	关于作者：<a target="_blank" href="http://www.jobbole.com/members/ityouknow">纯洁的微笑</a>
	</h3>
	<div class="alignleft">
		<a target="_blank" href="http://www.jobbole.com/members/ityouknow">
			<img src="http://jbcdn2.b0.upaiyun.com/2017/02/7a2dae804fcc41edb889ce67f7973c58.jpg" />
		</a>
	</div>

    <div class="author-bio-info">

        <span class="author-bio-info-block">
            一个热爱程序的人        </span>
        <span class="author-bio-info-block">
            <a href="http://www.jobbole.com/members/ityouknow" target="_blank"><i class="fa fa-user"></i> 个人主页</a> &middot;
            <a href="http://blog.jobbole.com/author/ityouknow/" target="_blank"><i class="fa fa-file-text-o"></i> 我的文章</a>

             &middot; <a title='声望值' target='_blank' href='http://www.jobbole.com/members/ityouknow/reputation/'><i class='fa fa-graduation-cap'></i> 13</a> &middot; <a title='我的网站' target='_blank' href='http://www.ityouknow.com/'><i class='fa fa-link'></i></a>&nbsp;<a title='微博主页' target='_blank' href='http://weibo.com/ityouknow'><i class='fa fa-weibo'></i></a>&nbsp;<a title='QQ：863865929' target='_blank' href='#'><i class='fa fa-qq'></i></a>&nbsp;<a title='GitHub主页' target='_blank' href='https://github.com/ityouknow'><i class='fa fa-github'></i></a>&nbsp;        </span>
    </div>
	<div class="clear"></div>
</div>

<!-- END #author-bio -->
	</div>
	<!-- END .entry -->


<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:false,
	title:"分享从伯乐在线看到的一篇好文章 ",
	summary:"《一个脚本引发的血案》",
	pic:"http://jbcdn2.b0.upaiyun.com/2017/02/af8b0d6d0e1006045a73aa84b1c05da9.jpg",
	appkey:{
         "tsina": 1473879058    },
	ralateuid:{
		"tsina": 1670481425	},
	hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1745061" charset="utf-8"></script>
<!-- JiaThis Button END -->
			<div class="textwidget"><p><a href="http://blog.jobbole.com/106093/" target='_blank'><img src='http://ww1.sinaimg.cn/mw690/bfdcef89gw1f9cf7iwi24j20h802sjrz.jpg' /></a></p>
</div>
		
</div>
<!-- END .post -->
            <div style="text-align: left;">
            <h3>相关文章</h3>
            <ul style="font-size: 13px; list-style: disc inside;">
                                    <li>
                    <span class="digg-item-updated-title">
                        <a title="从零到百亿互联网金融架构发展史" target="_blank" href="http://blog.jobbole.com/110234/?utm_source=blog.jobbole.com&utm_medium=relatedPosts">从零到百亿互联网金融架构发展史</a>
                                            </span>
                    </li>
                                    <li>
                    <span class="digg-item-updated-title">
                        <a title="服务拆分与架构演进" target="_blank" href="http://blog.jobbole.com/109902/?utm_source=blog.jobbole.com&utm_medium=relatedPosts">服务拆分与架构演进</a>
                                            </span>
                    </li>
                                    <li>
                    <span class="digg-item-updated-title">
                        <a title="微服务架构的基础框架选择：Spring Cloud还是Dubbo？" target="_blank" href="http://blog.jobbole.com/109635/?utm_source=blog.jobbole.com&utm_medium=relatedPosts">微服务架构的基础框架选择：Spring Cloud还是Dubbo？</a>
                         &middot; <a href="http://blog.jobbole.com/109635/#comments" target="_blank"><i class="fa fa-comments-o"></i> 1</a>                    </span>
                    </li>
                                    <li>
                    <span class="digg-item-updated-title">
                        <a title="一个复杂系统的拆分改造实践" target="_blank" href="http://blog.jobbole.com/109409/?utm_source=blog.jobbole.com&utm_medium=relatedPosts">一个复杂系统的拆分改造实践</a>
                                            </span>
                    </li>
                                    <li>
                    <span class="digg-item-updated-title">
                        <a title="C++ 11 开发中的 Atomic 原子操作" target="_blank" href="http://blog.jobbole.com/106516/?utm_source=blog.jobbole.com&utm_medium=relatedPosts">C++ 11 开发中的 Atomic 原子操作</a>
                                            </span>
                    </li>
                            </ul>
        </div>
    
    
<div style="text-align: left;">
    <h3>可能感兴趣的话题</h3>
    <ul style="font-size: 13px; list-style: disc inside;">
                        <li>
                    <a href="http://group.jobbole.com/28973/?utm_source=blog.jobbole.com&utm_medium=article-related-group-topic" title="机器学习的几个主流方向会是哪些？" target="_blank">机器学习的几个主流方向会是哪些？</a>
                     &middot; <a href="http://group.jobbole.com/28973/#comments" target="_blank"><i class="fa fa-comments-o"></i> 1</a>                </li>
                            <li>
                    <a href="http://group.jobbole.com/28961/?utm_source=blog.jobbole.com&utm_medium=article-related-group-topic" title="关于threadLocal 多线程疑问请路过大神解答一下。" target="_blank">关于threadLocal 多线程疑问请路过大神解答一下。</a>
                                    </li>
                            <li>
                    <a href="http://group.jobbole.com/28958/?utm_source=blog.jobbole.com&utm_medium=article-related-group-topic" title="数据挖掘之面向对象的姑娘们都想要什么样的郎君" target="_blank">数据挖掘之面向对象的姑娘们都想要什么样的郎君</a>
                     &middot; <a href="http://group.jobbole.com/28958/#comments" target="_blank"><i class="fa fa-comments-o"></i> 10</a>                </li>
                            <li>
                    <a href="http://group.jobbole.com/28955/?utm_source=blog.jobbole.com&utm_medium=article-related-group-topic" title="申请加入翻译组" target="_blank">申请加入翻译组</a>
                     &middot; <a href="http://group.jobbole.com/28955/#comments" target="_blank"><i class="fa fa-comments-o"></i> 1</a>                </li>
                            <li>
                    <a href="http://group.jobbole.com/28940/?utm_source=blog.jobbole.com&utm_medium=article-related-group-topic" title="刷屏微博的Siri、Cortana互怼视频，真相却是......" target="_blank">刷屏微博的Siri、Cortana互怼视频，真相却是......</a>
                                    </li>
                            <li>
                    <a href="http://group.jobbole.com/28855/?utm_source=blog.jobbole.com&utm_medium=article-related-group-topic" title="京东2017校园招聘笔试真题：遍历" target="_blank">京东2017校园招聘笔试真题：遍历</a>
                     &middot; <a href="http://group.jobbole.com/28855/#comments" target="_blank"><i class="fa fa-comments-o"></i> 2</a>                </li>
                </ul>
</div>
	
            <div id="article-comment" class="dot-box center-align">

                        <a href="http://www.jobbole.com/login?redirect=http://blog.jobbole.com/110225/"><button type="button" class="btn btn-non-transparent">登录后评论</button></a>
            
            <a target="_blank" href="http://www.jobbole.com/register"><button type="button" class="btn btn-primary">新用户注册</button></a>

            <br/><br/>
            <span>直接登录</span>
            <style type="text/css">.t_login_text{margin:0; padding:0;}.t_login_button{margin:0; padding: 5px 0;}.t_login_button a{margin:0; padding-right:3px; line-height:25px}.t_login_button img{display:inline; border:none;}</style><!-- 使用社交帐号登录 来自 WordPress连接微博 插件 --><span class="connectBox1 t_login_button"><a href="http://blog.jobbole.com/wp-content/plugins/wp-connect/login.php?go=weixin&redirect_url=http%3A%2F%2Fblog.jobbole.com%2F110225%2F" title="微信" rel="nofollow"><img src="http://blog.jobbole.com/wp-content/plugins/wp-connect/images/login/btn_weixin.png" /></a><a href="http://blog.jobbole.com/wp-content/plugins/wp-connect/login.php?go=qzone&redirect_url=http%3A%2F%2Fblog.jobbole.com%2F110225%2F" title="QQ" rel="nofollow"><img src="http://blog.jobbole.com/wp-content/plugins/wp-connect/images/login/btn_qzone.png" /></a><a href="http://blog.jobbole.com/wp-content/plugins/wp-connect/login.php?go=sina&redirect_url=http%3A%2F%2Fblog.jobbole.com%2F110225%2F" title="新浪微博" rel="nofollow"><img src="http://blog.jobbole.com/wp-content/plugins/wp-connect/images/login/btn_sina.png" /></a><a href="http://blog.jobbole.com/wp-content/plugins/wp-connect/login.php?go=douban&redirect_url=http%3A%2F%2Fblog.jobbole.com%2F110225%2F" title="豆瓣" rel="nofollow"><img src="http://blog.jobbole.com/wp-content/plugins/wp-connect/images/login/btn_douban.png" /></a><a href="http://blog.jobbole.com/wp-content/plugins/wp-connect/login.php?go=github&redirect_url=http%3A%2F%2Fblog.jobbole.com%2F110225%2F" title="GitHub" rel="nofollow"><img src="http://blog.jobbole.com/wp-content/plugins/wp-connect/images/login/btn_github.png" /></a></span>        </div>
    

    <div id="comment_list" class="comments">

                    <h5 id="comments" class="sub-title"><i class="glyphicon"></i>最新评论</h5>
            <ul class="cmnt-list">

                        <li id="comment-160060"  class="comment cmnt odd">
    
    <div class="cmnt-box">
        <div class="cmnt-header">
                            <a href="http://www.jobbole.com/members/east4ming" class="cmnt-img"><img width="37" height="37" src="http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png" alt=""></a>
                <div class="cmnt-meta">
                    <span><a href="http://www.jobbole.com/members/east4ming">东风微鸣</a><label class="comment_author_data">&nbsp;（ <a title='声望值' target='_blank' href='http://www.jobbole.com/members/east4ming/reputation/'><i class='fa fa-graduation-cap'></i> 1</a> ）</label></span>
                    <span class="c-title">
                        &nbsp;                    </span>

                    <span class="c-date">
                        <a href="http://blog.jobbole.com/110225/#comment-160060">5 天前</a>
                    </span>

                    
                    
                </div>
                    </div>
        <div class="cmnt-body">
            <p>
                <p>你好！我觉得dubbo才是根源啊。文章并没有深入的分析dubbo框架导致OOM问题的根源啊。</p>
<p>1、为什么dubbo会创建这么多dubbo threads、？</p>
<p>2、<span class="crayon-e">unable </span><span class="crayon-st">to</span> <span class="crayon-e">create </span><span class="crayon-r">new</span> <span class="crayon-m">native</span> <span class="crayon-e">thread？    为什么不能创建native thread 了？是线程到了linux的极限了？还是哪些配置有问题？</span></p>
            </p>
                    </div>
                    <div class="cmnt-footer">

                
                <p class="c-like">
                    <a title="赞同" alt="赞同" class="160060voteflag  t-up  href-style vote-comment-up  register-user-only   " data-comment-id="160060"><i class="fa fa-thumbs-o-up"></i> <span id="160060voteuptotal"> 赞</span></a>

                    
                    <a rel='nofollow' class='comment-reply-link register-user-only' href='http://blog.jobbole.com/110225/?replytocom=160060#respond' data-onclick='return addComment.moveForm( "comment-160060", "160060", "respond", "110225" )' aria-label='回复给东风微鸣'>回复 <i class='fa fa-reply'></i></a>
                </p>
            </div>
            </div>
    </li>
<ul class="children">
        <li id="comment-160061"  class="comment cmnt even">
    
    <div class="cmnt-box">
        <div class="cmnt-header">
                            <a href="http://www.jobbole.com/members/ityouknow" class="cmnt-img"><img width="37" height="37" src="http://jbcdn2.b0.upaiyun.com/2017/02/7a2dae804fcc41edb889ce67f7973c58.jpg" alt=""></a>
                <div class="cmnt-meta">
                    <span><a href="http://www.jobbole.com/members/ityouknow">纯洁的微笑</a><label class="comment_author_data">&nbsp;（ <a title='声望值' target='_blank' href='http://www.jobbole.com/members/ityouknow/reputation/'><i class='fa fa-graduation-cap'></i> 13</a> &middot; <a title='我的网站' target='_blank' href='http://www.ityouknow.com/'><i class='fa fa-link'></i></a>&nbsp;<a title='微博主页' target='_blank' href='http://weibo.com/ityouknow'><i class='fa fa-weibo'></i></a>&nbsp;<a title='QQ：863865929' target='_blank' href='#'><i class='fa fa-qq'></i></a>&nbsp;<a title='GitHub主页' target='_blank' href='https://github.com/ityouknow'><i class='fa fa-github'></i></a>&nbsp; ）</label></span>
                    <span class="c-title">
                        IT                    </span>

                    <span class="c-date">
                        <a href="http://blog.jobbole.com/110225/#comment-160061">5 天前</a>
                    </span>

                    
                    
                </div>
                    </div>
        <div class="cmnt-body">
            <p>
                <p>不是dubbo的问题，每次请求的时候数据库连接池不放导致最后无法创建线程，dubbo有两种策略一种是每次启动创建固定的线程数，一种是动态创建，我们刚开始使用的第一种，后来使用的第二种。</p>
            </p>
                    </div>
                    <div class="cmnt-footer">

                
                <p class="c-like">
                    <a title="赞同" alt="赞同" class="160061voteflag  t-up  href-style vote-comment-up  register-user-only   " data-comment-id="160061"><i class="fa fa-thumbs-o-up"></i> <span id="160061voteuptotal"> 赞</span></a>

                    
                    <a rel='nofollow' class='comment-reply-link register-user-only' href='http://blog.jobbole.com/110225/?replytocom=160061#respond' data-onclick='return addComment.moveForm( "comment-160061", "160061", "respond", "110225" )' aria-label='回复给纯洁的微笑'>回复 <i class='fa fa-reply'></i></a>
                </p>
            </div>
            </div>
    </li>
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>
        
    </div>
		

	
</div>
<!-- END .grid-8 -->

<!-- BEGIN #sidebar -->
<div id="sidebar" class="grid-4">

	    <div id="text-105" class="widget widget_text">			<div class="textwidget"><p><a href="http://group.jobbole.com/22945/" target="_blank"><img src="http://jbcdn2.b0.upaiyun.com/2016/09/5e6bbd56a6fa31dbcbb9ea2c3f4bd3fc.jpg" /></a></p>
</div>
		</div><div class="tabs tabbed_widget"><ul class="nav clearfix"><li><a id="link-tab1" href="#tab1" title="本周热门文章">本周热门文章</a></li><li><a id="link-tab2" href="#tab2" title="本月热门文章">本月热门文章</a></li><li><a id="link-tab3" href="#tab3" title="热门标签">热门标签</a></li></ul><div id="tab1" class="tab"><div class="floated-thumb">
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">0</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110226/" title="在 Google 工作 10 年，到底能学到啥？">在 Google 工作 10 年，到底能...</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">1</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110287/" title="2016 腾讯软件开发面试题（部分）">2016 腾讯软件开发面试题（部分）</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">2</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110148/" title="通过这 9 本开源好书学习 C 语言">通过这 9 本开源好书学习 C 语言</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">3</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110144/" title="9 个超酷的深度学习案例">9 个超酷的深度学习案例</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">4</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/109979/" title="一个程序员要扔掉多少代码，才能成为真正的程序员">一个程序员要扔掉多少代码，才能成为...</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">5</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110149/" title="程序员提高编程能力万无一失的办法">程序员提高编程能力万无一失的办法</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">6</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110265/" title="技术人员的发展之路">技术人员的发展之路</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">7</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110194/" title="推荐给程序员的一些书（不止是技术书）">推荐给程序员的一些书（不止是技术书）</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">8</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/109905/" title="坑：缓存 + 哈希 = 高并发？">坑：缓存 + 哈希 = 高并发？</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">9</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110225/" title="一个脚本引发的血案">一个脚本引发的血案</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                </div></div><div id="tab2" class="tab"><div class="floated-thumb">
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">0</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110226/" title="在 Google 工作 10 年，到底能学到啥？">在 Google 工作 10 年，到底能...</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">1</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110171/" title="误删 300G，GitLab 官方对删库事故的事后分析">误删 300G，GitLab 官方对删库...</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">2</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/109819/" title="趣文：妓女、二奶和软件外包哪个靠谱">趣文：妓女、二奶和软件外包哪个靠谱</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">3</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110041/" title="全栈必备：网络编程基础">全栈必备：网络编程基础</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">4</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/109821/" title="编程没有捷径：奇葩冒牌程序员的故事">编程没有捷径：奇葩冒牌程序员的故事</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">5</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110287/" title="2016 腾讯软件开发面试题（部分）">2016 腾讯软件开发面试题（部分）</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">6</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110148/" title="通过这 9 本开源好书学习 C 语言">通过这 9 本开源好书学习 C 语言</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">7</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110144/" title="9 个超酷的深度学习案例">9 个超酷的深度学习案例</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">8</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/110029/" title="试试Linux下的ip命令，ifconfig已经过时了">试试Linux下的ip命令，ifconfig已经...</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">9</span>
                            <a class="meta-title" target="_blank" href="http://blog.jobbole.com/109979/" title="一个程序员要扔掉多少代码，才能成为真正的程序员">一个程序员要扔掉多少代码，才能成为...</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                </div></div><div id="tab3" class="tab"><p><a href='http://blog.jobbole.com/tag/net/' class='tag-link-1636 tag-link-position-1' title='272个话题' style='font-size: 16.686131386861px;'>.Net</a>
<a href='http://blog.jobbole.com/tag/android/' class='tag-link-4884 tag-link-position-2' title='149个话题' style='font-size: 14.029197080292px;'>Android</a>
<a href='http://blog.jobbole.com/tag/app/' class='tag-link-1941 tag-link-position-3' title='92个话题' style='font-size: 11.883211678832px;'>App</a>
<a href='http://blog.jobbole.com/tag/bug/' class='tag-link-218 tag-link-position-4' title='77个话题' style='font-size: 11.065693430657px;'>Bug</a>
<a href='http://blog.jobbole.com/tag/cpp/' class='tag-link-807 tag-link-position-5' title='233个话题' style='font-size: 15.970802919708px;'>C++</a>
<a href='http://blog.jobbole.com/tag/c-sharp/' class='tag-link-2197 tag-link-position-6' title='99个话题' style='font-size: 12.189781021898px;'>C sharp</a>
<a href='http://blog.jobbole.com/tag/css/' class='tag-link-711 tag-link-position-7' title='68个话题' style='font-size: 10.554744525547px;'>CSS</a>
<a href='http://blog.jobbole.com/tag/c/' class='tag-link-757 tag-link-position-8' title='250个话题' style='font-size: 16.277372262774px;'>C语言</a>
<a href='http://blog.jobbole.com/tag/facebook/' class='tag-link-164 tag-link-position-9' title='111个话题' style='font-size: 12.700729927007px;'>Facebook</a>
<a href='http://blog.jobbole.com/tag/featuredpost/' class='tag-link-2241 tag-link-position-10' title='622个话题' style='font-size: 20.262773722628px;'>featuredpost</a>
<a href='http://blog.jobbole.com/tag/git/' class='tag-link-885 tag-link-position-11' title='87个话题' style='font-size: 11.576642335766px;'>Git</a>
<a href='http://blog.jobbole.com/tag/github/' class='tag-link-1253 tag-link-position-12' title='71个话题' style='font-size: 10.759124087591px;'>Github</a>
<a href='http://blog.jobbole.com/tag/go/' class='tag-link-4888 tag-link-position-13' title='48个话题' style='font-size: 9.021897810219px;'>Go</a>
<a href='http://blog.jobbole.com/tag/google/' class='tag-link-198 tag-link-position-14' title='290个话题' style='font-size: 16.890510948905px;'>Google</a>
<a href='http://blog.jobbole.com/tag/hadoop/' class='tag-link-862 tag-link-position-15' title='39个话题' style='font-size: 8.1021897810219px;'>Hadoop</a>
<a href='http://blog.jobbole.com/tag/html5/' class='tag-link-182 tag-link-position-16' title='85个话题' style='font-size: 11.474452554745px;'>HTML5</a>
<a href='http://blog.jobbole.com/tag/ios/' class='tag-link-4887 tag-link-position-17' title='232个话题' style='font-size: 15.970802919708px;'>iOS</a>
<a href='http://blog.jobbole.com/tag/it/' class='tag-link-513 tag-link-position-18' title='43个话题' style='font-size: 8.5109489051095px;'>IT</a>
<a href='http://blog.jobbole.com/tag/java/' class='tag-link-457 tag-link-position-19' title='221个话题' style='font-size: 15.766423357664px;'>java</a>
<a href='http://blog.jobbole.com/tag/javascript/' class='tag-link-683 tag-link-position-20' title='276个话题' style='font-size: 16.686131386861px;'>Javascript</a>
<a href='http://blog.jobbole.com/tag/jquery/' class='tag-link-459 tag-link-position-21' title='56个话题' style='font-size: 9.7372262773723px;'>jQuery</a>
<a href='http://blog.jobbole.com/tag/linux/' class='tag-link-190 tag-link-position-22' title='535个话题' style='font-size: 19.649635036496px;'>Linux</a>
<a href='http://blog.jobbole.com/tag/mysql/' class='tag-link-191 tag-link-position-23' title='144个话题' style='font-size: 13.824817518248px;'>MySQL</a>
<a href='http://blog.jobbole.com/tag/nginx/' class='tag-link-1172 tag-link-position-24' title='48个话题' style='font-size: 9.021897810219px;'>Nginx</a>
<a href='http://blog.jobbole.com/tag/node-js/' class='tag-link-896 tag-link-position-25' title='47个话题' style='font-size: 8.9197080291971px;'>Node.js</a>
<a href='http://blog.jobbole.com/tag/nosql/' class='tag-link-967 tag-link-position-26' title='48个话题' style='font-size: 9.021897810219px;'>NoSQL</a>
<a href='http://blog.jobbole.com/tag/php/' class='tag-link-168 tag-link-position-27' title='162个话题' style='font-size: 14.335766423358px;'>php</a>
<a href='http://blog.jobbole.com/tag/python/' class='tag-link-4886 tag-link-position-28' title='172个话题' style='font-size: 14.642335766423px;'>Python</a>
<a href='http://blog.jobbole.com/tag/redis/' class='tag-link-2221 tag-link-position-29' title='56个话题' style='font-size: 9.7372262773723px;'>Redis</a>
<a href='http://blog.jobbole.com/tag/ruby/' class='tag-link-4885 tag-link-position-30' title='39个话题' style='font-size: 8.1021897810219px;'>Ruby</a>
<a href='http://blog.jobbole.com/tag/shell/' class='tag-link-1714 tag-link-position-31' title='71个话题' style='font-size: 10.759124087591px;'>shell</a>
<a href='http://blog.jobbole.com/tag/soho/' class='tag-link-153 tag-link-position-32' title='40个话题' style='font-size: 8.2043795620438px;'>soho</a>
<a href='http://blog.jobbole.com/tag/sql/' class='tag-link-857 tag-link-position-33' title='62个话题' style='font-size: 10.14598540146px;'>SQL</a>
<a href='http://blog.jobbole.com/tag/sql-server/' class='tag-link-2681 tag-link-position-34' title='116个话题' style='font-size: 12.905109489051px;'>SQL Server</a>
<a href='http://blog.jobbole.com/tag/ui/' class='tag-link-1143 tag-link-position-35' title='55个话题' style='font-size: 9.6350364963504px;'>UI</a>
<a href='http://blog.jobbole.com/tag/ui%e8%ae%be%e8%ae%a1/' class='tag-link-2548 tag-link-position-36' title='142个话题' style='font-size: 13.824817518248px;'>UI设计</a>
<a href='http://blog.jobbole.com/tag/web/' class='tag-link-404 tag-link-position-37' title='47个话题' style='font-size: 8.9197080291971px;'>Web</a>
<a href='http://blog.jobbole.com/tag/web%e5%bc%80%e5%8f%91/' class='tag-link-493 tag-link-position-38' title='119个话题' style='font-size: 13.007299270073px;'>Web开发</a>
<a href='http://blog.jobbole.com/tag/book/' class='tag-link-1022 tag-link-position-39' title='59个话题' style='font-size: 9.9416058394161px;'>书籍</a>
<a href='http://blog.jobbole.com/tag/%e4%ba%92%e8%81%94%e7%bd%91/' class='tag-link-40 tag-link-position-40' title='85个话题' style='font-size: 11.474452554745px;'>互联网</a>
<a href='http://blog.jobbole.com/tag/%e4%ba%a4%e4%ba%92%e8%ae%be%e8%ae%a1/' class='tag-link-648 tag-link-position-41' title='121个话题' style='font-size: 13.109489051095px;'>交互设计</a>
<a href='http://blog.jobbole.com/tag/%e4%ba%a7%e5%93%81/' class='tag-link-522 tag-link-position-42' title='92个话题' style='font-size: 11.883211678832px;'>产品</a>
<a href='http://blog.jobbole.com/tag/%e4%ba%a7%e5%93%81%e7%bb%8f%e7%90%86/' class='tag-link-549 tag-link-position-43' title='57个话题' style='font-size: 9.7372262773723px;'>产品经理</a>
<a href='http://blog.jobbole.com/tag/%e4%bb%a3%e7%a0%81/' class='tag-link-489 tag-link-position-44' title='118个话题' style='font-size: 13.007299270073px;'>代码</a>
<a href='http://blog.jobbole.com/tag/startup/' class='tag-link-4878 tag-link-position-45' title='211个话题' style='font-size: 15.56204379562px;'>创业</a>
<a href='http://blog.jobbole.com/tag/%e5%89%8d%e7%ab%af/' class='tag-link-1138 tag-link-position-46' title='69个话题' style='font-size: 10.656934306569px;'>前端</a>
<a href='http://blog.jobbole.com/tag/%e5%9b%a2%e9%98%9f/' class='tag-link-551 tag-link-position-47' title='69个话题' style='font-size: 10.656934306569px;'>团队</a>
<a href='http://blog.jobbole.com/tag/%e5%a4%a7%e6%95%b0%e6%8d%ae/' class='tag-link-884 tag-link-position-48' title='59个话题' style='font-size: 9.9416058394161px;'>大数据</a>
<a href='http://blog.jobbole.com/tag/%e5%a5%b3%e7%a8%8b%e5%ba%8f%e5%91%98/' class='tag-link-1460 tag-link-position-49' title='55个话题' style='font-size: 9.6350364963504px;'>女程序员</a>
<a href='http://blog.jobbole.com/tag/%e5%a8%81%e5%ae%a2/' class='tag-link-129 tag-link-position-50' title='40个话题' style='font-size: 8.2043795620438px;'>威客</a>
<a href='http://blog.jobbole.com/tag/%e5%ad%a6%e4%b9%a0/' class='tag-link-442 tag-link-position-51' title='52个话题' style='font-size: 9.3284671532847px;'>学习</a>
<a href='http://blog.jobbole.com/tag/%e5%ae%89%e5%85%a8/' class='tag-link-1214 tag-link-position-52' title='150个话题' style='font-size: 14.029197080292px;'>安全</a>
<a href='http://blog.jobbole.com/tag/%e5%ae%89%e5%8d%93%e5%bc%80%e5%8f%91/' class='tag-link-3362 tag-link-position-53' title='59个话题' style='font-size: 9.9416058394161px;'>安卓开发</a>
<a href='http://blog.jobbole.com/tag/%e5%ae%a2%e6%88%b7/' class='tag-link-174 tag-link-position-54' title='53个话题' style='font-size: 9.4306569343066px;'>客户</a>
<a href='http://blog.jobbole.com/tag/%e5%b1%8c%e7%a8%8b/' class='tag-link-5126 tag-link-position-55' title='47个话题' style='font-size: 8.9197080291971px;'>屌程</a>
<a href='http://blog.jobbole.com/tag/%e5%b7%a5%e5%85%b7/' class='tag-link-18 tag-link-position-56' title='135个话题' style='font-size: 13.518248175182px;'>工具</a>
<a href='http://blog.jobbole.com/tag/%e5%b7%a5%e7%a8%8b%e5%b8%88/' class='tag-link-470 tag-link-position-57' title='38个话题' style='font-size: 8px;'>工程师</a>
<a href='http://blog.jobbole.com/tag/%e5%bc%80%e5%8f%91%e4%ba%ba%e5%91%98/' class='tag-link-370 tag-link-position-58' title='120个话题' style='font-size: 13.007299270073px;'>开发人员</a>
<a href='http://blog.jobbole.com/tag/%e5%bc%80%e6%ba%90/' class='tag-link-196 tag-link-position-59' title='101个话题' style='font-size: 12.29197080292px;'>开源</a>
<a href='http://blog.jobbole.com/tag/%e5%be%ae%e8%bd%af/' class='tag-link-429 tag-link-position-60' title='93个话题' style='font-size: 11.883211678832px;'>微软</a>
<a href='http://blog.jobbole.com/tag/%e6%8a%80%e6%9c%af%e9%9d%a2%e8%af%95/' class='tag-link-1876 tag-link-position-61' title='69个话题' style='font-size: 10.656934306569px;'>技术面试</a>
<a href='http://blog.jobbole.com/tag/%e6%8b%9b%e8%81%98/' class='tag-link-326 tag-link-position-62' title='45个话题' style='font-size: 8.7153284671533px;'>招聘</a>
<a href='http://blog.jobbole.com/tag/%e6%95%88%e7%8e%87/' class='tag-link-415 tag-link-position-63' title='60个话题' style='font-size: 10.043795620438px;'>效率</a>
<a href='http://blog.jobbole.com/tag/%e6%95%99%e7%a8%8b/' class='tag-link-600 tag-link-position-64' title='53个话题' style='font-size: 9.4306569343066px;'>教程</a>
<a href='http://blog.jobbole.com/tag/%e6%95%b0%e5%ad%a6/' class='tag-link-495 tag-link-position-65' title='45个话题' style='font-size: 8.7153284671533px;'>数学</a>
<a href='http://blog.jobbole.com/tag/database/' class='tag-link-353 tag-link-position-66' title='433个话题' style='font-size: 18.729927007299px;'>数据库</a>
<a href='http://blog.jobbole.com/tag/%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84/' class='tag-link-649 tag-link-position-67' title='41个话题' style='font-size: 8.3065693430657px;'>数据结构</a>
<a href='http://blog.jobbole.com/tag/time-management/' class='tag-link-271 tag-link-position-68' title='54个话题' style='font-size: 9.5328467153285px;'>时间管理</a>
<a href='http://blog.jobbole.com/tag/%e6%9c%8d%e5%8a%a1%e5%99%a8/' class='tag-link-311 tag-link-position-69' title='54个话题' style='font-size: 9.5328467153285px;'>服务器</a>
<a href='http://blog.jobbole.com/tag/machinelearning/' class='tag-link-1910 tag-link-position-70' title='88个话题' style='font-size: 11.678832116788px;'>机器学习</a>
<a href='http://blog.jobbole.com/tag/architecture/' class='tag-link-603 tag-link-position-71' title='134个话题' style='font-size: 13.518248175182px;'>架构</a>
<a href='http://blog.jobbole.com/tag/%e6%b5%8b%e8%af%95/' class='tag-link-678 tag-link-position-72' title='101个话题' style='font-size: 12.29197080292px;'>测试</a>
<a href='http://blog.jobbole.com/tag/%e6%b5%8f%e8%a7%88%e5%99%a8/' class='tag-link-63 tag-link-position-73' title='52个话题' style='font-size: 9.3284671532847px;'>浏览器</a>
<a href='http://blog.jobbole.com/tag/%e6%b8%b8%e6%88%8f/' class='tag-link-797 tag-link-position-74' title='77个话题' style='font-size: 11.065693430657px;'>游戏</a>
<a href='http://blog.jobbole.com/tag/%e7%94%a8%e6%88%b7/' class='tag-link-460 tag-link-position-75' title='59个话题' style='font-size: 9.9416058394161px;'>用户</a>
<a href='http://blog.jobbole.com/tag/%e7%94%a8%e6%88%b7%e4%bd%93%e9%aa%8c/' class='tag-link-580 tag-link-position-76' title='197个话题' style='font-size: 15.255474452555px;'>用户体验</a>
<a href='http://blog.jobbole.com/tag/%e7%95%8c%e9%9d%a2/' class='tag-link-4190 tag-link-position-77' title='47个话题' style='font-size: 8.9197080291971px;'>界面</a>
<a href='http://blog.jobbole.com/tag/%e7%a7%bb%e5%8a%a8%e5%ba%94%e7%94%a8/' class='tag-link-654 tag-link-position-78' title='71个话题' style='font-size: 10.759124087591px;'>移动应用</a>
<a href='http://blog.jobbole.com/tag/%e7%a7%bb%e5%8a%a8%e7%ab%af/' class='tag-link-3904 tag-link-position-79' title='45个话题' style='font-size: 8.7153284671533px;'>移动端</a>
<a href='http://blog.jobbole.com/tag/%e7%a8%8b%e5%ba%8f%e5%91%98/' class='tag-link-368 tag-link-position-80' title='903个话题' style='font-size: 22px;'>程序员</a>
<a href='http://blog.jobbole.com/tag/algorithm/' class='tag-link-650 tag-link-position-81' title='275个话题' style='font-size: 16.686131386861px;'>算法</a>
<a href='http://blog.jobbole.com/tag/management/' class='tag-link-4880 tag-link-position-82' title='45个话题' style='font-size: 8.7153284671533px;'>管理</a>
<a href='http://blog.jobbole.com/tag/%e7%bc%96%e7%a8%8b/' class='tag-link-389 tag-link-position-83' title='146个话题' style='font-size: 13.92700729927px;'>编程</a>
<a href='http://blog.jobbole.com/tag/%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80/' class='tag-link-596 tag-link-position-84' title='122个话题' style='font-size: 13.109489051095px;'>编程语言</a>
<a href='http://blog.jobbole.com/tag/%e7%bd%91%e7%ab%99/' class='tag-link-150 tag-link-position-85' title='83个话题' style='font-size: 11.372262773723px;'>网站</a>
<a href='http://blog.jobbole.com/tag/%e7%bd%91%e9%a1%b5%e8%ae%be%e8%ae%a1/' class='tag-link-454 tag-link-position-86' title='243个话题' style='font-size: 16.175182481752px;'>网页设计</a>
<a href='http://blog.jobbole.com/tag/%e8%81%8c%e5%9c%ba/' class='tag-link-253 tag-link-position-87' title='416个话题' style='font-size: 18.525547445255px;'>职场</a>
<a href='http://blog.jobbole.com/tag/%e8%87%aa%e7%94%b1%e8%81%8c%e4%b8%9a/' class='tag-link-315 tag-link-position-88' title='131个话题' style='font-size: 13.416058394161px;'>自由职业</a>
<a href='http://blog.jobbole.com/tag/translation/' class='tag-link-4882 tag-link-position-89' title='39个话题' style='font-size: 8.1021897810219px;'>英语</a>
<a href='http://blog.jobbole.com/tag/%e8%8b%b9%e6%9e%9c/' class='tag-link-183 tag-link-position-90' title='52个话题' style='font-size: 9.3284671532847px;'>苹果</a>
<a href='http://blog.jobbole.com/tag/%e8%ae%be%e8%ae%a1/' class='tag-link-431 tag-link-position-91' title='132个话题' style='font-size: 13.416058394161px;'>设计</a>
<a href='http://blog.jobbole.com/tag/%e8%ae%be%e8%ae%a1%e5%b8%88/' class='tag-link-436 tag-link-position-92' title='209个话题' style='font-size: 15.459854014599px;'>设计师</a>
<a href='http://blog.jobbole.com/tag/%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f/' class='tag-link-1845 tag-link-position-93' title='70个话题' style='font-size: 10.656934306569px;'>设计模式</a>
<a href='http://blog.jobbole.com/tag/%e8%b6%a3%e6%96%87/' class='tag-link-2105 tag-link-position-94' title='68个话题' style='font-size: 10.554744525547px;'>趣文</a>
<a href='http://blog.jobbole.com/tag/%e8%bd%af%e4%bb%b6%e5%bc%80%e5%8f%91/' class='tag-link-38 tag-link-position-95' title='100个话题' style='font-size: 12.189781021898px;'>软件开发</a>
<a href='http://blog.jobbole.com/tag/%e9%87%8d%e6%9e%84/' class='tag-link-728 tag-link-position-96' title='43个话题' style='font-size: 8.5109489051095px;'>重构</a>
<a href='http://blog.jobbole.com/tag/%e9%9d%a2%e8%af%95/' class='tag-link-173 tag-link-position-97' title='119个话题' style='font-size: 13.007299270073px;'>面试</a>
<a href='http://blog.jobbole.com/tag/%e9%a1%b9%e7%9b%ae/' class='tag-link-177 tag-link-position-98' title='38个话题' style='font-size: 8px;'>项目</a>
<a href='http://blog.jobbole.com/tag/%e9%a1%b9%e7%9b%ae%e7%bb%8f%e7%90%86/' class='tag-link-1049 tag-link-position-99' title='39个话题' style='font-size: 8.1021897810219px;'>项目经理</a>
<a href='http://blog.jobbole.com/tag/%e9%bb%91%e5%ae%a2/' class='tag-link-617 tag-link-position-100' title='61个话题' style='font-size: 10.043795620438px;'>黑客</a></p></div></div><div id="text-100" class="widget widget_text">			<div class="textwidget"><p><a href="http://blog.jobbole.com/107308/" target="_blank"><img src="http://ww1.sinaimg.cn/mw690/bfdcef89gw1f9f9prey40j208c03c0t2.jpg" /></a></p>
</div>
		</div>
        <h3 class="widget-title">
            <a target="_blank" href="http://top.jobbole.com/category/news/">业界热点资讯</a>
            <span style="float:right;"><a target="_blank" href="http://top.jobbole.com/category/news/">更多 &raquo;</a></span>
        </h3>
        <!-- BEGIN .container -->
        <div class="container">
            
                <!-- BEGIN .grid-4 -->
                <div class="grid-4 floated-thumb">

                    
                        <!-- BEGIN .post-thumb -->
                        <div class="post-thumb">
                            <a target="_blank" href="http://top.jobbole.com/36309/?utm_source=blog.jobbole.com&utm_medium=sidebar-top-news"><img src="http://jbcdn2.b0.upaiyun.com/2017/02/7c4365a88b1b4520955a6194138dccfc.jpg" alt="" width="50" height="50" /></a>
                        </div>
                        <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" title="Linux 占领世界，Windows 支配桌面" target="_blank" href="http://top.jobbole.com/36309/?utm_source=blog.jobbole.com&utm_medium=sidebar-top-news">Linux 占领世界，Windows 支配桌面</a><br />
                                7 小时前                                &middot; <i class="fa fa-thumbs-o-up"></i> 4                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                        <!-- BEGIN .post-thumb -->
                        <div class="post-thumb">
                            <a target="_blank" href="http://top.jobbole.com/36305/?utm_source=blog.jobbole.com&utm_medium=sidebar-top-news"><img src="http://jbcdn2.b0.upaiyun.com/2015/11/565719730ba5cef93633ac3fb10cd4e5.jpg" alt="" width="50" height="50" /></a>
                        </div>
                        <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" title="Linux 4.10 发布" target="_blank" href="http://top.jobbole.com/36305/?utm_source=blog.jobbole.com&utm_medium=sidebar-top-news">Linux 4.10 发布</a><br />
                                7 小时前                                &middot; <i class="fa fa-thumbs-o-up"></i> 2                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                        <!-- BEGIN .post-thumb -->
                        <div class="post-thumb">
                            <a target="_blank" href="http://top.jobbole.com/36303/?utm_source=blog.jobbole.com&utm_medium=sidebar-top-news"><img src="http://jbcdn2.b0.upaiyun.com/2015/11/565719730ba5cef93633ac3fb10cd4e5.jpg" alt="" width="50" height="50" /></a>
                        </div>
                        <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" title="宇宙射线能导致严重计算机故障" target="_blank" href="http://top.jobbole.com/36303/?utm_source=blog.jobbole.com&utm_medium=sidebar-top-news">宇宙射线能导致严重计算机故障</a><br />
                                7 小时前                                &middot; <i class="fa fa-thumbs-o-up"></i> 2                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                        <!-- BEGIN .post-thumb -->
                        <div class="post-thumb">
                            <a target="_blank" href="http://top.jobbole.com/36278/?utm_source=blog.jobbole.com&utm_medium=sidebar-top-news"><img src="http://wx1.sinaimg.cn/mw690/63918611gy1fct9zlm0uqj20mi0ez0tx.jpg" alt="" width="50" height="50" /></a>
                        </div>
                        <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" title="在美国入境还要现场考编程？他就体验了一把" target="_blank" href="http://top.jobbole.com/36278/?utm_source=blog.jobbole.com&utm_medium=sidebar-top-news">在美国入境还要现场考编程？他就体验了一把</a><br />
                                4 天前                                &middot; <i class="fa fa-thumbs-o-up"></i> 71                                                                    &middot;  <a href="http://top.jobbole.com/36278/#comments" target="_blank"><i class="fa fa-comments-o"></i> 9</a>
                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                        <!-- BEGIN .post-thumb -->
                        <div class="post-thumb">
                            <a target="_blank" href="http://top.jobbole.com/36289/?utm_source=blog.jobbole.com&utm_medium=sidebar-top-news"><img src="http://jbcdn2.b0.upaiyun.com/2015/11/565719730ba5cef93633ac3fb10cd4e5.jpg" alt="" width="50" height="50" /></a>
                        </div>
                        <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" title="Go 1.8 正式发布，编译速度比 Go 1.7 提高约 15％" target="_blank" href="http://top.jobbole.com/36289/?utm_source=blog.jobbole.com&utm_medium=sidebar-top-news">Go 1.8 正式发布，编译速度比 Go 1.7 提高约 15％</a><br />
                                3 天前                                &middot; <i class="fa fa-thumbs-o-up"></i> 11                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                </div>
                <!-- END .grid-4 -->

            
            <div class="clear"></div>

        </div>
        <!-- END .container -->
        <div id="text-103" class="widget widget_text">			<div class="textwidget"><p><a href="http://blog.jobbole.com/84342/" target="_blank"><img src="http://jbcdn2.b0.upaiyun.com/2016/08/74d126ea14f964e13bb07d24843bdab4.jpg" /></a></p>
</div>
		</div>            <h3 class="widget-title">
                <a href="http://hao.jobbole.com?utm_source=blog.jobbole.com&utm_medium=sidebar-resources-more" target="_blank">精选工具资源</a>
                <span style="float:right;"><a target="_blank" href="http://hao.jobbole.com?utm_source=blog.jobbole.com&utm_medium=sidebar-resources-more">更多资源 &raquo;</a></span>
            </h3>
            <div class="container">
                <div class="grid-4">
                
                    <div class="floated-thumb">
                        <div class="post-thumb">
                            <a target="_blank" href="http://hao.jobbole.com/static_code_analysis_tool_list_opensource_lang/?utm_source=blog.jobbole.com&utm_medium=sidebar-resources" title="静态代码分析工具清单：开源篇（各语言）"><img src="http://jbcdn1.b0.upaiyun.com/2017/02/4dcfb5acbde23bc48b10c7684c1f12c2-300x240.png" alt="" width="50" height="50" /></a>
                        </div>
                        <div class="post-meta">
                            <p>
                                <a class="meta-title" target="_blank" href="http://hao.jobbole.com/static_code_analysis_tool_list_opensource_lang/?utm_source=blog.jobbole.com&utm_medium=sidebar-resources" title="静态代码分析工具清单：开源篇（各语言）">静态代码分析工具清单：开源篇（各语言）</a><br />
                                <a href="http://hao.jobbole.com/category/cpp-lang/cpp-static-code-analysis/" rel="category tag">静态代码分析</a>
                            </p>
                        </div>
                        <div class="clear"></div>
                    </div>
                
                    <div class="floated-thumb">
                        <div class="post-thumb">
                            <a target="_blank" href="http://hao.jobbole.com/bugsnag/?utm_source=blog.jobbole.com&utm_medium=sidebar-resources" title="Bugsnag：跨平台的错误监测"><img src="http://jbcdn1.b0.upaiyun.com/2017/02/63ca1aacc93e00d66a770cc1bf3bbc41.png" alt="" width="50" height="50" /></a>
                        </div>
                        <div class="post-meta">
                            <p>
                                <a class="meta-title" target="_blank" href="http://hao.jobbole.com/bugsnag/?utm_source=blog.jobbole.com&utm_medium=sidebar-resources" title="Bugsnag：跨平台的错误监测">Bugsnag：跨平台的错误监测</a><br />
                                <a href="http://hao.jobbole.com/category/android/android-dev-tools/" rel="category tag">开发库</a>
                            </p>
                        </div>
                        <div class="clear"></div>
                    </div>
                
                    <div class="floated-thumb">
                        <div class="post-thumb">
                            <a target="_blank" href="http://hao.jobbole.com/static_code_analysis_tool_list_opensource/?utm_source=blog.jobbole.com&utm_medium=sidebar-resources" title="静态代码分析工具清单：开源篇（多语言）"><img src="http://jbcdn1.b0.upaiyun.com/2017/01/a836363edc26c51bc7575a1d690194df-300x251.png" alt="" width="50" height="50" /></a>
                        </div>
                        <div class="post-meta">
                            <p>
                                <a class="meta-title" target="_blank" href="http://hao.jobbole.com/static_code_analysis_tool_list_opensource/?utm_source=blog.jobbole.com&utm_medium=sidebar-resources" title="静态代码分析工具清单：开源篇（多语言）">静态代码分析工具清单：开源篇（多语言）</a><br />
                                <a href="http://hao.jobbole.com/category/cpp-lang/cpp-static-code-analysis/" rel="category tag">静态代码分析</a>
                            </p>
                        </div>
                        <div class="clear"></div>
                    </div>
                
                    <div class="floated-thumb">
                        <div class="post-thumb">
                            <a target="_blank" href="http://hao.jobbole.com/tryton/?utm_source=blog.jobbole.com&utm_medium=sidebar-resources" title="Tryton：一个通用商务框架"><img src="http://jbcdn1.b0.upaiyun.com/2017/01/fbce31ffc19ced1422abbb0a860c5ab7.png" alt="" width="50" height="50" /></a>
                        </div>
                        <div class="post-meta">
                            <p>
                                <a class="meta-title" target="_blank" href="http://hao.jobbole.com/tryton/?utm_source=blog.jobbole.com&utm_medium=sidebar-resources" title="Tryton：一个通用商务框架">Tryton：一个通用商务框架</a><br />
                                <a href="http://hao.jobbole.com/category/python-tools/python-misc/" rel="category tag">杂项</a>
                            </p>
                        </div>
                        <div class="clear"></div>
                    </div>
                
                    <div class="floated-thumb">
                        <div class="post-thumb">
                            <a target="_blank" href="http://hao.jobbole.com/nltk/?utm_source=blog.jobbole.com&utm_medium=sidebar-resources" title="NLTK：一个先进的用来处理自然语言数据的Python程序。"><img src="http://jbcdn1.b0.upaiyun.com/2016/12/0384e39ce19622237039c4a86febccc9.png" alt="" width="50" height="50" /></a>
                        </div>
                        <div class="post-meta">
                            <p>
                                <a class="meta-title" target="_blank" href="http://hao.jobbole.com/nltk/?utm_source=blog.jobbole.com&utm_medium=sidebar-resources" title="NLTK：一个先进的用来处理自然语言数据的Python程序。">NLTK：一个先进的用来处理自然语言数据的Python程序。</a><br />
                                <a href="http://hao.jobbole.com/category/python-tools/python-natural-lang/" rel="category tag">自然语言处理</a>
                            </p>
                        </div>
                        <div class="clear"></div>
                    </div>
                                </div>
            </div>
        <div id="text-109" class="widget widget_text">			<div class="textwidget"><p><a href="http://blog.jobbole.com/99322/?utm_source=blog.jobbole.com&#038;utm_medium=sidebarBanner&#038;utm_content=2016.4.5" target='_blank'><img src='http://ww2.sinaimg.cn/mw690/bfdcef89jw1f2lmtdfiyxj208c03cglx.jpg' /></a></p>
</div>
		</div>	
	<!-- BEGIN .container -->
	<div class="container">
	
		<!-- BEGIN .grid-2 -->
		<div class="grid-2">
			
						
		</div>
		<!-- END .grid-2 -->
		
		<!-- BEGIN .grid-2 -->
		<div class="grid-2">
			
						
		</div>
		<!-- END .grid-2 -->
		
		<div class="clear"></div>
			
	</div>
	<!-- END .container -->

</div>
<!-- END #sidebar -->
<div class="clear"></div>	


</div>
<!-- END #wrapper -->

<!-- BEGIN footer -->

    <footer>

        <!-- BEGIN .container -->
        <div class="container">

            <!-- BEGIN .grid-4 -->
            <div class="grid-4">

                <div id="text-3" class="widget widget_text"><h3 class="widget-title">关于伯乐在线博客</h3>			<div class="textwidget"><p>在这个信息爆炸的时代，人们已然被大量、快速并且简短的信息所包围。然而，我们相信：过多“快餐”式的阅读只会令人“虚胖”，缺乏实质的内涵。伯乐在线内容团队正试图以我们微薄的力量，把优秀的原创文章和译文分享给读者，为“快餐”添加一些“营养”元素。</p>
<p><b>快速链接</b><br />
<a target='_blank' href="http://blog.jobbole.com/87622/">网站使用指南 » </a><br />
<a target='_blank' href="http://group.jobbole.com/category/feedback/thanks">问题反馈与求助 » </a><br />
<a target='_blank' href="http://group.jobbole.com/22422/">加入我们 » </a><br />
<a target='_blank' href="http://group.jobbole.com/158/">网站积分规则 » </a><br />
<a target='_blank' href="http://group.jobbole.com/175/">网站声望规则 » </a></p>
</div>
		</div>
            </div>
            <!-- END .grid-4 -->

            <!-- BEGIN .grid-4 -->
            <div class="grid-4">

                <div id="text-4" class="widget widget_text"><h3 class="widget-title">关注我们</h3>			<div class="textwidget"><p>新浪微博：<a href="http://weibo.com/jobbole" target='_blank'>@伯乐在线官方微博</a><br />
RSS：<a href="http://blog.jobbole.com/feed/" target='_blank'>订阅地址</a><br />
推荐微信号 <br />
<img src='http://jbcdn2.b0.upaiyun.com/2015/12/weixin/iprogrammer_weixin.png' width='100' height='110' /><img src='http://jbcdn2.b0.upaiyun.com/2015/12/weixin/ui_weixin.png' width='100' height='110' /><img src='http://jbcdn2.b0.upaiyun.com/2015/12/weixin/geekfan_weixin.png' width='100' height='110' /></p>
<p><strong>合作联系</strong><br />
Email：<a href='mailto:bd@jobbole.com'>bd@Jobbole.com</a><br />
QQ： 2302462408  （加好友请注明来意）</p>
</div>
		</div>
            </div>
            <!-- END .grid-4 -->

            <!-- BEGIN .grid-4 -->
            <div class="grid-4">

                <div id="text-7" class="widget widget_text"><h3 class="widget-title">更多频道</h3>			<div class="textwidget"><p><a href="http://group.jobbole.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>小组</a> &#8211; 好的话题、有启发的回复、值得信赖的圈子<br />
<a href="http://top.jobbole.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>头条</a> &#8211; 分享和发现有价值的内容与观点<br />
<a href="http://date.jobbole.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>相亲</a> &#8211; 为IT单身男女服务的征婚传播平台<br />
<a href="http://hao.jobbole.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>资源</a> &#8211; 优秀的工具资源导航<br />
<a href="http://fanyi.jobbole.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>翻译</a> &#8211; 翻译传播优秀的外文文章<br />
<a href="http://blog.jobbole.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>文章</a> &#8211; 国内外的精选文章<br />
<a href="http://design.jobbole.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>设计</a> &#8211; UI,网页，交互和用户体验<br />
<a href="http://ios.jobbole.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>iOS</a> &#8211; 专注iOS技术分享<br />
<a href="http://android.jobbole.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>安卓</a> &#8211; 专注Android技术分享<br />
<a href="http://web.jobbole.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>前端</a> &#8211; JavaScript, HTML5, CSS<br />
<a href="http://www.importnew.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>Java</a> &#8211; 专注Java技术分享<br />
<a href="http://python.jobbole.com/?utm_source=blog.jobbole.com&#038;utm_medium=bottomText" target='_blank'>Python</a> &#8211; 专注Python技术分享</p>
</div>
		</div>
            </div>
            <!-- END .grid-4 -->

            <div class="clear"></div>

        </div>
        <!-- END .container -->

        <!-- BEGIN #bottom -->
        <div id="bottom">

            <!-- BEGIN .container -->
            <div class="container">

                <!-- BEGIN .grid-12 -->
                <div class="grid-12">

                    <p>&copy; 2017 伯乐在线
                    <span style="margin-left: 40px;">
                        <a href="http://blog.jobbole.com">文章</a>&nbsp;&nbsp;
                        <a href="http://group.jobbole.com">小组</a>&nbsp;&nbsp;
                        <a href="http://date.jobbole.com">相亲</a>&nbsp;&nbsp;
                        <a href="http://group.jobbole.com/22422/">加入我们</a>&nbsp;&nbsp;
                        <a href="http://group.jobbole.com/category/feedback/thanks/"><i class="fa fa-bullhorn"></i> 反馈</a>
                    </span>
                    </p>

                </div>
                <!-- END .grid-12 -->

                <div class="clear"></div>

            </div>
            <!-- END .container -->

        </div>
        <!-- END #bottom -->
    </footer>

    
<!-- END footer -->



<script type='text/javascript'>
/* <![CDATA[ */
var thickboxL10n = {"next":"\u4e0b\u4e00\u9875 >","prev":"< \u4e0a\u4e00\u9875","image":"\u56fe\u50cf","of":"\/","close":"\u5173\u95ed","noiframes":"\u8fd9\u4e2a\u529f\u80fd\u9700\u8981iframe\u7684\u652f\u6301\u3002\u60a8\u53ef\u80fd\u7981\u6b62\u4e86iframe\u7684\u663e\u793a\uff0c\u6216\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u6b64\u529f\u80fd\u3002","loadingAnimation":"http:\/\/blog.jobbole.com\/wp-includes\/js\/thickbox\/loadingAnimation.gif"};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-includes/js/thickbox/thickbox.js?ver=3.1-20121105'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-includes/js/underscore.min.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-includes/js/shortcode.min.js?ver=4.5.6'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-admin/js/media-upload.min.js?ver=4.5.6'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-includes/js/comment-reply.min.js?ver=4.5.6'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var quicktagsL10n = {"closeAllOpenTags":"\u5173\u95ed\u6240\u6709\u6253\u5f00\u7684\u6807\u7b7e","closeTags":"\u5173\u95ed\u6807\u7b7e","enterURL":"\u8f93\u5165URL","enterImageURL":"\u8f93\u5165\u56fe\u50cfURL","enterImageDescription":"\u4e3a\u56fe\u50cf\u8f93\u5165\u63cf\u8ff0","textdirection":"\u6587\u672c\u65b9\u5411","toggleTextdirection":"\u5207\u6362\u7f16\u8f91\u5668\u6587\u672c\u4e66\u5199\u65b9\u5411","dfw":"\u514d\u6253\u6270\u5199\u4f5c\u6a21\u5f0f","strong":"\u7c97\u4f53","strongClose":"\u5173\u95ed\u7c97\u4f53\u6807\u7b7e","em":"\u659c\u4f53","emClose":"\u5173\u95ed\u659c\u4f53\u6807\u7b7e","link":"\u63d2\u5165\u94fe\u63a5","blockquote":"\u5757\u5f15\u7528","blockquoteClose":"\u5173\u95ed\u5757\u5f15\u7528\u6807\u7b7e","del":"\u5220\u9664\u7684\u6587\u5b57\uff08\u5220\u9664\u7ebf\uff09","delClose":"\u5173\u95ed\u5220\u9664\u7ebf\u6807\u7b7e","ins":"\u63d2\u5165\u7684\u6587\u5b57","insClose":"\u5173\u95ed\u63d2\u5165\u7684\u6587\u5b57\u6807\u7b7e","image":"\u63d2\u5165\u56fe\u50cf","ul":"\u9879\u76ee\u7b26\u53f7\u5217\u8868","ulClose":"\u5173\u95ed\u9879\u76ee\u7b26\u53f7\u5217\u8868\u6807\u7b7e","ol":"\u7f16\u53f7\u5217\u8868","olClose":"\u5173\u95ed\u7f16\u53f7\u5217\u8868\u6807\u7b7e","li":"\u5217\u8868\u9879\u76ee","liClose":"\u5173\u95ed\u5217\u8868\u9879\u76ee\u6807\u7b7e","code":"\u4ee3\u7801","codeClose":"\u5173\u95ed\u4ee3\u7801\u6807\u7b7e","more":"\u63d2\u5165\u201cMore\u201d\u6807\u7b7e"};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-includes/js/quicktags.min.js?ver=4.5.6'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/util/tag-editor/crayon_qt.js?ver=2.7.1.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"http:\/\/blog.jobbole.com\/wp-admin\/admin-ajax.php","post_id":"110225"};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/plugins/wp-postviews/postviews-cache.js?ver=1.68'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/ready.js?ver=1.0'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/easing.js?ver=1.3'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/validate.js?ver=1.9.0'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/touchwipe.js?ver=1.1.1'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/caroufredsel.js?ver=5.5.0'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/flexslider.js?ver=2.0'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/jplayer.js?ver=2.1.0'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/fitvids.js?ver=1.0'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/selectnav.js?ver=0.11'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/effects.js?ver=1.11'></script>
<script type='text/javascript' src='http://blog.jobbole.com/wp-includes/js/wp-embed.min.js?ver=4.5.6'></script>


<div id="full-btm">
<a><img src="http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/img/back-btm.png" width="20" border=0 alt="跳到底部" title="跳到底部"></a>
</div>

<script type="text/javascript">
jQuery('#full-btm').click(function(){
    jQuery('html, body').animate({scrollTop:jQuery(document).height()}, 'slow');
    return false;
});
</script>

<div id="full-top">
<a><img src="http://blog.jobbole.com/wp-content/themes/jobboleblogv3/_assets/img/back-top.png" width="20" border=0 alt="返回顶部" title="返回顶部"></a>
</div>

<script type="text/javascript">
jQuery('#full-top').click(function(){
    jQuery('html, body').animate({scrollTop:0}, 'slow');
    return false;
});

</script>

</body>
<!-- END body -->

</html>
<!-- END html -->