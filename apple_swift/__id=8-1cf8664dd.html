<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="Author" content="Apple Inc." />
<meta name="viewport" content="width=device-width" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="icon" href="/favicon.ico" />
<link rel="stylesheet" href="https://devimages.apple.com.edgekey.net/assets/core/styles/base.css" type="text/css" />
<link rel="stylesheet" href="/assets/core/styles/templates.css" type="text/css" />
<link rel="stylesheet" href="/assets/core/styles/responsify.css" type="text/css" />
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/lib/prototype.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/lib/scriptaculous.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/browserdetect.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/apple_core.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/search_decorator.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/core/scripts/adc_core.js" type="text/javascript" charset="utf-8"></script>
<script src="https://devimages.apple.com.edgekey.net/assets/scripts/ac_retina.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	document.write('<link rel="stylesheet" type="text/css" href="https://devimages.apple.com.edgekey.net/assets/styles/script.css" media="screen">');
</script>
<!-- Augmented Search -->
<link rel="stylesheet" href="https://devimages.apple.com.edgekey.net/assets/styles/augmented_search.css" type="text/css">
<script src="https://devimages.apple.com.edgekey.net/assets/scripts/lib/jquery/jquery-1.11.0.min.js"></script>
<script>jQuery.noConflict();</script>
<script src="https://devimages.apple.com.edgekey.net/assets/scripts/augmented_search.js"></script>
	<title>Boolean - Swift Blog - Apple Developer</title>
	<meta name="omni-page" content="Boolean - Swift Blog - Apple Developer" />
	<meta name="Description" content="Get the latest news and helpful tips on the Swift programming language from the engineers who created it.">
	<link href="/swift/styles/swift.css" rel="stylesheet" type="text/css">
</head>
<body class="white responsify swift-blog">

	<div id="globalheader-wrapper">
<nav id="globalheader" data-hires="true">
	
	<h1 data-hires="true"><a href="/">Apple Developer</a></h1>
	<ul id="gh-nav">
		<li id="gh-nav-technologies"><a href="/technologies/">Technologies</a></li>
		<li id="gh-nav-resources"><a href="/resources/">Resources</a></li>
		<li id="gh-nav-programs"><a href="/programs/">Programs</a></li>
		<li id="gh-nav-support"><a href="/support/">Support</a></li>
		<li id="gh-nav-membercenter"><a href="/membercenter/">Member Center</a></li>
	</ul>

	<div id="gh-search" data-hires="true">
		<form action="/search/index.php" method="get" accept-charset="utf-8"><div>
			<label for="gh-adcsearch">
				<span class="prettyplaceholder"></span>
				<input type="text" name="q" id="gh-adcsearch" class="adcsearch prettysearch augmented">
			</label>
		</div></form>
	</div>

	<script type="text/javascript">
		Event.onDOMReady(function() {
			// Get root path for Global Header Active class
			ghLocation = location.pathname.split('/')[1];
			// Make sure it doesn't try to add a file extension to the css class
			if(ghLocation.include('.')) ghLocation = ghLocation.split('.')[0];
			// Add Global Header Active State Class
			$$('body')[0].addClassName('gh-nav-'+location.pathname.split('/')[1]+'-active');
		});
	</script>
</nav>
</div>
	<div id="top">
<!-- SiteCatalyst code version: H.8. Copyright 1997-2006 Omniture, Inc. -->
<script type="text/javascript">
/* RSID: */
var s_account="appleglobal,appleusdeveloper"
</script>

<script type="text/javascript" src="https://www.apple.com/metrics/scripts/s_code_h.js"></script>
<script type="text/javascript">
s.pageName=AC.Tracking.pageName();
s.channel="www.us.developer"

/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code)</script>
<!-- End SiteCatalyst code version: H.8. -->
</div>	<!-- - -->
<div class="swift-header-container" data-hires="true">
    <div class="swift-header">
        <p class="imagereplace">Swift: A new programming language for iOS and OS X.</p>
    </div>
</div>
<!-- - -->

	<div id="content" class="content responsify" data-hires="true">
		<section class="layout-tabs">
			<div class="tab-wrapper">
				<div class="divider"></div>
				<div class="grid3col tabs">
					<div class="column one"><a href="/swift/">Overview</a></div>
					<div class="column two active"><a href="/swift/blog/">Blog</a></div>
					<div class="column three"><a href="/swift/resources/">Resources</a></div>
				</div>
			</div>
		</section>

		<section class="blog-articles padding-bottom-40">
						<ul class="article-list">
													<li id="article-8" class="article padding-top-50 ">
						<p class="article-date lighter">Aug  5, 2014</p>
												<h2>Boolean</h2>
						
						<span><p>The boolean <span class="keyword">Bool</span> type in Swift underlies a lot of primitive functionality, making it an interesting demonstration of how to build a simple type. This post walks through the creation of a new <span class="keyword">MyBool</span> type designed and implemented to be very similar to the <span class="keyword">Bool</span> type built into Swift. We hope this walk through the design of a simple Swift type will help you better understand how the language works.</p> <p>Let’s start with the basic definition. The <span class="keyword">MyBool</span> type models two different cases, perfect for an enum:</p> <pre><code><span class="key">enum</span> MyBool {
	<span class="key">case</span> myTrue, myFalse
}</code></pre> <p>To reduce confusion in this post, we’ve named the cases <span class="keyword">myTrue</span> and <span class="keyword">myFalse</span>. We want <span class="keyword">MyBool()</span> to produce a false value, and can do so by providing an <span class="keyword">init</span> method:</p> <pre><code><span class="key">extension</span> <span class="pointer">MyBool</span> {
	<span class="key">init</span>() { <span class="key">self</span> = .<span class="enum">myFalse</span> }
}</code></pre> <p>Swift enum declarations implicitly scope their enumerators within their body, allowing us to refer to <span class="keyword">MyBool.myFalse</span> and even <span class="keyword">.myFalse</span> when a contextual type is available.  However, we want our type to work with the primitive <span class="keyword">true</span> and <span class="keyword">false</span> literal keywords. To make this work, we can make <span class="keyword">MyBool</span> conform to the <span class="keyword">BooleanLiteralConvertible</span> protocol like this:</p> <pre><code><span class="key">extension</span> <span class="pointer">MyBool</span> : <span class="title">BooleanLiteralConvertible</span> {
	<span class="key">static func</span> convertFromBooleanLiteral(value: <span class="title">Bool</span>) -&gt; <span class="pointer">MyBool</span> {
		<span class="key">return</span> value ? <span class="enum">myTrue</span> : <span class="enum">myFalse</span>
	}
}

<span class="comment">// We can now assign 'true' and 'false' to MyBool.</span>
<span class="key">var</span> a : <span class="pointer">MyBool</span> = <span class="key">true</span></code></pre> <p>With this set up, we have our basic type, but we still can’t do much with it.  Booleans need to be testable within an <span class="keyword">if</span> condition.  Swift models this with the <span class="keyword">BooleanType</span> protocol, which allows any type to be used as a logical condition:</p> <pre><code><span class="key">extension</span> <span class="pointer">MyBool</span> : <span class="title">BooleanType</span> {
	<span class="key">var</span> boolValue: <span class="title">Bool</span> {
		<span class="key">switch self</span> {
		<span class="key">case</span> .myTrue: <span class="key">return true</span>
		<span class="key">case</span> .myFalse: <span class="key">return false</span>
		}
	}
}

<span class="comment">// Can now test MyBool in 'if' and 'while' statement conditions.</span>
<span class="key">if</span> <span class="pointer">a</span> {}</code></pre> <p>We also want anything that conforms to <span class="keyword">BooleanType</span> to be castable to <span class="keyword">MyBool</span>, so we add:</p> <pre><code><span class="key">extension</span> <span class="pointer">MyBool</span> {
	<span class="comment">// MyBool can be constructed from BooleanType</span>
	<span class="key">init</span>(<span class="key">_</span> v : <span class="title">BooleanType</span>) {
		<span class="key">if</span> v.<span class="title">boolValue</span> {
			<span class="key">self</span> = .<span class="enum">myTrue</span>
		} <span class="key">else</span> {
			<span class="key">self</span> = .<span class="enum">myFalse</span>
		}
	}
}

<span class="comment">// Can now convert from other boolean-like types.</span>
<span class="key">var</span> basicBool : <span class="title">Bool</span> = <span class="key">true</span>
<span class="pointer">a</span> = <span class="pointer">MyBool</span>(<span class="pointer">basicBool</span>)</code></pre> <p>Note that the use of <span class="keyword">_</span> in the initializer argument list disables the keyword argument, which allows the <span class="keyword">MyBool(x)</span> syntax to be used instead of requiring <span class="keyword">MyBool(v: x)</span>.</p> <p>Now that we have basic functionality, let’s define some operators to work with it, starting with the <span class="keyword">==</span> operator.  Simple enums that have no associated data (like <span class="keyword">MyBool</span>) are automatically made <span class="keyword">Equatable</span> by the compiler, so no additional code is required. However, you can make arbitrary types equatable by conforming to the <span class="keyword">Equatable</span> protocol and implementing the <span class="keyword">==</span> operator. If <span class="keyword">MyBool</span> weren’t already <span class="keyword">Equatable</span>, this would look like this:</p> <pre><code><span class="key">extension</span> <span class="pointer">MyBool</span> : <span class="title">Equatable</span> {
}

<span class="key">func</span> ==(lhs: <span class="pointer">MyBool</span>, rhs: <span class="pointer">MyBool</span>) -&gt; <span class="title">Bool</span> {
	<span class="key">switch</span> (lhs, rhs) {
	<span class="key">case</span> (.myTrue,.myTrue), (.myFalse,.myFalse):
		<span class="key">return true
	default</span>:
		<span class="key">return false</span>
	}
}

<span class="comment">// Can now compare with == and !=</span>
<span class="key">if</span> <span class="pointer">a</span> == <span class="pointer">a</span> {}
<span class="key">if</span> <span class="pointer">a</span> != <span class="pointer">a</span> {}</code></pre> <p>Here we’re using some simple pattern matching in the <span class="keyword">switch</span> statement to handle this. Since <span class="keyword">MyBool</span> is now <span class="keyword">Equatable</span>, we get a free implementation of the <span class="keyword">!=</span> operator.  Lets add binary operations:</p> <pre><code><span class="key">func</span> &(lhs: <span class="pointer">MyBool</span>, rhs: <span class="pointer">MyBool</span>) -&gt; <span class="pointer">MyBool</span> {
	<span class="key">if</span> lhs {
		<span class="key">return</span> rhs
	}
	<span class="key">return false</span>
}

<span class="key">func</span> |(lhs: <span class="pointer">MyBool</span>, rhs: <span class="pointer">MyBool</span>) -&gt; <span class="pointer">MyBool</span> {
	<span class="key">if</span> lhs {
		<span class="key">return true</span>
	}
	<span class="key">return</span> rhs
}

<span class="key">func</span> ^(lhs: <span class="pointer">MyBool</span>, rhs: <span class="pointer">MyBool</span>) -&gt; <span class="pointer">MyBool</span> {
	<span class="key">return</span> <span class="pointer">MyBool</span>(lhs != rhs)
}</code></pre> <p>With the basic operators in place, we can implement a variety of helpful unary and compound assignment operators as well, for example:</p> <pre><code><span class="key">prefix func</span> !(a: <span class="pointer">MyBool</span>) -&gt; <span class="pointer">MyBool</span> {
	<span class="key">return</span> a <span class="enum">^</span> <span class="key">true</span>
}

<span class="comment">// Compound assignment (with bitwise and)</span>
<span class="key">func</span> &=(<span class="key">inout</span> lhs: <span class="pointer">MyBool</span>, rhs: <span class="pointer">MyBool</span>) {
	lhs = lhs <span class="enum">&</span> rhs
}</code></pre> <p>The <span class="keyword">&=</span> operator takes the left operand as <span class="keyword">inout</span> because it reads and writes to it, and the effect must be visible to the user of the operator.  Swift gives you complete control over mutability of operations on value types like <span class="keyword">enum</span> and <span class="keyword">struct</span>.</p> <p>With this, the simple <span class="keyword">MyBool</span> type has all of the basic operations and operators.  Hopefully this post gives you a few tips that you can apply to your own code when defining higher-level types.</p></span>
												<a class="arrow arrow-left" href="http://developer.apple.com/swift/blog/#article-8">All Blog Posts</a>
											</li>
											</section>

	</div><!-- /content -->

	<div id="globalfooter-wrapper">
		<footer id="globalfooter">
			<div id="breadory">
				<ol id="breadcrumbs">
					<li class="home"><a href="/">Developer</a></li>
					<li><a href="/swift/">Swift</a></li>
										<li><a href="/swift/blog/">Blog</a></li>
					<li>Boolean</li>
									</ol>
			</div><!--/breadory-->
			<p class="gf-buy">Shop the <a href="http://www.apple.com/store/">Apple Online Store</a> (1-800-MY-APPLE), visit an <a href="http://www.apple.com/retail/">Apple Retail Store</a>, or find a <a href="http://www.apple.com/buy/locator/">reseller</a>.</p>
<ul class="gf-links piped">
	<li><a href="/news/" class="first">News</a></li>
	<li><a href="/register/">Register</a></li>
	<li><a href="/bug-reporting/">Report Bugs</a></li>
	<li><a href="/contact/">Contact Us</a></li>
</ul>
<div class="gf-sosumi">
	<p>Copyright © 2014 Apple Inc. All rights reserved.</p>
	<ul class="piped">
		<li><a href="http://www.apple.com/legal/internet-services/terms/site.html" class="first">Terms of Use</a></li>
		<li><a href="http://www.apple.com/privacy/">Privacy Policy</a></li>
	</ul>
</div>
<div id="localization-links">
	<ul>
		<li><a href="/cn/" title="Simplified Chinese">简体中文</a></li>
		<li><a href="/jp/" title="Japanese">日本語</a></li>
		<li><a href="/kr/" title="Korean">한국어</a></li>
	</ul>
</div>		</footer><!--/globalfooter-->
	</div><!-- /globalfooter-wrapper -->
</body>
</html>